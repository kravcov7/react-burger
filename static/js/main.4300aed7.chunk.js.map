{"version":3,"sources":["components/burger-block/burger-block.module.css","components/ingredient-details/ingredient-details.module.css","components/burg-constr-elements/burger-constructor-elements.module.css","components/preloader/preloader.module.css","components/app/App.module.css","pages/feed/feed.module.css","components/modal-overlay/modal-overlay.module.css","services/constants/auth.ts","services/reducers/auth.ts","services/constants/socket.ts","services/reducers/wsReducer.ts","services/constants/socketAuth.ts","services/reducers/wsReducerAuth.ts","services/constants/card.ts","services/reducers/card.ts","services/reducers/index.ts","utils/cookie.ts","services/middleware/socketMiddleware.ts","services/actions/socket.ts","services/actions/socketAuth.ts","store.ts","components/app-header/app-header.tsx","hooks.ts","components/card/card.tsx","components/cards/cards.tsx","components/burger-ingredients/burger-ingredients.tsx","utils/config.ts","components/burg-constr-elements/burger-constructor-elements.tsx","components/constructor-empty/constuctor-empty.tsx","components/burger-constructor/burger-constructor.tsx","services/actions/card.ts","components/preloader/preloader.tsx","components/burger-block/burger-block.tsx","pages/not-found-404/not-found-404.tsx","utils/api.ts","services/actions/auth.ts","pages/login/login.tsx","pages/register/register.tsx","pages/forgot-password/forgot-password.tsx","pages/reset-password/reset-password.tsx","components/orders/orders.tsx","components/burger-image/burger-image.tsx","utils/helpers.ts","components/burger/burger.tsx","components/burger-ready/burger-ready.tsx","pages/feed/feed.tsx","components/profile-orders/profile-orders.tsx","pages/profile/profile.tsx","components/item-structure/item-structure.tsx","components/item-detail/item-detail.tsx","utils/token.ts","components/protected-route.tsx","components/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","components/ingredient-details/ingredient-details.tsx","images/graphics.svg","components/order-details/order-details.tsx","components/app/app.tsx","reportWebVitals.ts","index.tsx","pages/profile/profile.module.css","components/orders/orders.module.css","components/app-header/app-header.module.css","components/item-detail/item-detail.module.css","components/burger/burger.module.css","components/burger-constructor/burger-constructor.module.css","components/order-details/order-details.module.css","components/burger-ingredients/burger-ingredients.module.css","pages/login/login.module.css","components/item-structure/item-structure.module.css","components/card/card.module.css","pages/register/register.module.css","pages/forgot-password/forgot-password.module.css","pages/reset-password/reset-password.module.css","components/burger-image/burger-image.module.css","components/cards/cards.module.css","components/constructor-empty/constructor-empty.module.css","components/burger-ready/burger-ready.module.css","components/profile-orders/profile-orders.module.css","components/modal/modal.module.css"],"names":["module","exports","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILED","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILED","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_FAILED","FORGOT_PASSWORD_SUCCESS","LOAD_USER_REQUEST","LOAD_USER_SUCCESS","LOAD_USER_FAILED","UPDATE_USER_REQUEST","UPDATE_USER_SUCCESS","UPDATE_USER_FAILED","LOGOUT_REQUEST","LOGOUT_SUCCESS","LOGOUT_FAILED","REFRESH_TOKEN_REQUEST","REFRESH_TOKEN_SUCCESS","REFRESH_TOKEN_FAILED","initialState","email","name","registerRequest","registerFailed","loginRequest","loginFailed","loadUserRequest","loadUserFailed","logoutRequest","logoutFailed","forgotPasswordRequest","forgotPasswordFailed","isforgotPasswordRequest","isforgotPasswordSaccess","isTokenUpdated","tokenUpdateDate","WS_CONNECTION_CLOSED","WS_CONNECTION_ERROR","WS_CONNECTION_SUCCESS","WS_GET_MESSAGE","WS_CONNECTION_START","wsConnected","orders","total","totalToday","WS_CONNECTION_CLOSED_AUTH","WS_CONNECTION_ERROR_AUTH","WS_CONNECTION_SUCCESS_AUTH","WS_GET_MESSAGE_AUTH","WS_CONNECTION_START_AUTH","INCREASE_INGREDIENT","DECREASE_INGREDIENT","DELETE_ITEM","MOVE_ITEM","GET_INGREDIENTS_FAILED","GET_INGREDIENTS_REQUEST","GET_INGREDIENTS_SUCCESS","ADD_INGREDIENTS_BUN","ADD_INGREDIENTS_FILLINGS","CREATE_ORDER_REQUEST","CREATE_ORDER_SUCCESS","CREATE_ORDER_FAILED","isLoading","hasError","dataReceived","data","burger","bun","fillings","counts","currentOrder","orderIsLoading","orderHasError","history","createBrowserHistory","rootReducer","combineReducers","card","state","action","type","item","_id","typeItem","key","filter","el","productId","id","splice","toIndex","fromIndex","element","uuidv4","auth","user","router","connectRouter","ws","console","log","payload","wsAuth","getCookie","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","value","props","exp","path","expires","d","Date","setTime","getTime","Number","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","deleteCookie","socketMiddleware","wsUrl","wsActions","isAuth","store","socket","next","dispatch","wsInit","onOpen","onClose","onError","onMessage","token","WebSocket","onopen","event","onerror","onmessage","parsedData","JSON","parse","restParsedData","success","onclose","wsActionsAuth","enhancer","window","REDUX_DEVTOOLS_EXTENSION_COMPOSE","compose","applyMiddleware","thunk","routerMiddleware","createStore","AppHeader","isConstructor","useRouteMatch","exact","isFeed","isProfile","className","styles","header","container","cn","block","to","link","activeClassName","active","useDispatch","dispatchHook","useSelector","selectorHook","Card","React","memo","useDrag","drag","count","ref","data-cy","src","image","alt","price","size","Cards","forwardRef","title","ingredients","location","useLocation","cards","map","pathname","background","BurgerIngredients","useState","current","setCurrent","sauce","main","headerRef","useRef","bunRef","sauceRef","mainRef","useEffect","scrollIntoView","tabs","onClick","onScroll","bunDistance","Math","abs","getBoundingClientRect","top","sauceDistance","mainDistance","minDistance","min","currentHeader","prevState","url","BurgerConstructorElements","index","moveItem","deleteItem","useDrop","accept","collect","monitor","handlerId","getHandlerId","hover","dragIndex","hoverIndex","hoverBoundingRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","drop","isDrag","isDragging","opacity","style","text","thumbnail","handleClose","ConstructorEmpty","s","BurgerConstructor","useHistory","isOver","canDrop","classModificator","sum","forEach","useCallback","length","isLocked","list","fetch","method","headers","Authorization","body","stringify","then","res","ok","json","Error","status","order","catch","err","addOrder","push","Preloader","loader","BurgerBlock","DndProvider","backend","HTML5Backend","NotFound404","requestHandler","Promise","reject","refreshTokenR","localStorage","getItem","fetchWithRefresh","options","a","message","setItem","refreshToken","authToken","accessToken","split","removeItem","reload","register","newUser","password","mode","cache","credentials","redirect","referrerPolicy","signUp","error","login","signIn","forgotPassword","loadUser","updateUser","updateUserCookie","logOut","Login","setState","handleInputChange","target","hasToken","onSubmit","e","preventDefault","form","placeholder","onChange","errorText","Register","ForgotPassword","setEmail","ResetPassword","resetPassword","Orders","doneOrders","pendingOrders","table","ready","number","progress","num","BurgerImage","img","icon","getTimeOrders","date","dayCreated","today","setHours","days","diffTime","ceil","hours","getHours","getMinutes","getTimezoneOffset","getStat","colorText","Burger","stat","itemOrders","flat","numZInd","reduce","acc","curr","dateOrders","createdAt","countLeftover","burgerItem","slice","footer","zIndex","image_mobile","overlay","BurgerReady","Feed","ProfileOrders","burgers","burgerlink","Profile","nameDisabled","emailDisabled","passwordDisabled","currentUserName","currentUserEmail","nameInputRef","emailInputRef","passwordInputRef","nameIcon","emailIcon","passwordIcon","menu","inputs","disabled","onIconClick","setTimeout","focus","button","ItemStructure","ItemDetails","useParams","arr","countItems","Object","keys","span","structure","ingrid","getRefreshToken","ProtectedRoute","children","rest","render","from","ModalOverlay","close","modalRoot","getElementById","Modal","closeEsc","code","addEventListener","removeEventListener","goBack","ReactDOM","createPortal","modal","IngredientsDetails","find","ingredient","container__image","container__subtitle","box","box__item","box__text","box__sum","calories","proteins","fat","carbohydrates","OrderDetails","order__title","order__subtitle","order__image","doneOrder","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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","file":"static/js/main.4300aed7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"burger-block_main__2Bj15\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"ingredient-details_box__14cly\",\"ingredient\":\"ingredient-details_ingredient__2mqU8\",\"container\":\"ingredient-details_container__HgquV\",\"container__subtitle\":\"ingredient-details_container__subtitle__3lVIO\",\"box__item\":\"ingredient-details_box__item__2kGqV\",\"box__sum\":\"ingredient-details_box__sum__2e-E_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"burger-constructor-elements_item__38hvc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"preloader_loader__3uKcg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__23kon\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"feed_main__14Z3G\",\"link\":\"feed_link__3l-gu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__2XHPC\"};","export const REGISTER_REQUEST: 'REGISTER_REQUEST' = \"REGISTER_REQUEST\";\r\nexport const REGISTER_SUCCESS: 'REGISTER_SUCCESS' = \"REGISTER_SUCCESS\";\r\nexport const REGISTER_FAILED: 'REGISTER_FAILED' = \"REGISTER_FAILED\";\r\n\r\nexport const LOGIN_REQUEST: 'LOGIN_REQUEST' = \"LOGIN_REQUEST\";\r\nexport const LOGIN_SUCCESS: 'LOGIN_SUCCESS' = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_FAILED: 'LOGIN_FAILED' = \"LOGIN_FAILED\";\r\n\r\nexport const FORGOT_PASSWORD_REQUEST: 'FORGOT_PASSWORD_REQUEST' = \"FORGOT_PASSWORD_REQUEST\";\r\nexport const FORGOT_PASSWORD_FAILED: 'FORGOT_PASSWORD_FAILED' = \"FORGOT_PASSWORD_FAILED\";\r\nexport const FORGOT_PASSWORD_SUCCESS: 'FORGOT_PASSWORD_SUCCESS' = \"FORGOT_PASSWORD_SUCCESS\";\r\n\r\n\r\nexport const LOAD_USER_REQUEST: 'LOAD_USER_REQUEST' = \"LOAD_USER_REQUEST\";\r\nexport const LOAD_USER_SUCCESS: 'LOAD_USER_SUCCESS' = \"LOAD_USER_SUCCESS\";\r\nexport const LOAD_USER_FAILED: 'LOAD_USER_FAILED' = \"LOAD_USER_FAILED\";\r\n\r\n\r\nexport const UPDATE_USER_REQUEST: 'UPDATE_USER_REQUEST' = \"UPDATE_USER_REQUEST\";\r\nexport const UPDATE_USER_SUCCESS: 'UPDATE_USER_SUCCESS' = \"UPDATE_USER_SUCCESS\";\r\nexport const UPDATE_USER_FAILED: 'UPDATE_USER_FAILED' = \"UPDATE_USER_FAILED\";\r\n\r\nexport const LOGOUT_REQUEST: 'LOGOUT_REQUEST' = \"LOGOUT_REQUEST\";\r\nexport const LOGOUT_SUCCESS: 'LOGOUT_SUCCESS' = \"LOGOUT_SUCCESS\";\r\nexport const LOGOUT_FAILED: 'LOGOUT_FAILED' = \"LOGOUT_FAILED\";\r\n\r\nexport const REFRESH_TOKEN_REQUEST: 'REFRESH_TOKEN_REQUEST' = 'REFRESH_TOKEN_REQUEST';\r\nexport const REFRESH_TOKEN_SUCCESS: 'REFRESH_TOKEN_SUCCESS' = 'REFRESH_TOKEN_SUCCESS';\r\nexport const REFRESH_TOKEN_FAILED: 'REFRESH_TOKEN_FAILED' = 'REFRESH_TOKEN_FAILED';\r\n","import { REGISTER_REQUEST, REGISTER_SUCCESS, REGISTER_FAILED, LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILED, \r\n  LOAD_USER_REQUEST, LOAD_USER_SUCCESS, LOAD_USER_FAILED, UPDATE_USER_REQUEST, UPDATE_USER_SUCCESS, UPDATE_USER_FAILED, \r\n  LOGOUT_REQUEST, LOGOUT_SUCCESS, LOGOUT_FAILED, FORGOT_PASSWORD_REQUEST, FORGOT_PASSWORD_SUCCESS, FORGOT_PASSWORD_FAILED, \r\n  REFRESH_TOKEN_REQUEST, REFRESH_TOKEN_SUCCESS, REFRESH_TOKEN_FAILED } from \"../constants/auth\";\r\nimport { TAuthActions } from \"../actions/auth\";\r\n\r\ntype TAuthInitialState = {\r\n  email: string;\r\n  name: string;\r\n  registerRequest: boolean;\r\n  registerFailed: boolean;\r\n  loginRequest: boolean;\r\n  loginFailed: boolean;\r\n  loadUserRequest: boolean;\r\n  loadUserFailed: boolean;\r\n  logoutRequest: boolean;\r\n  logoutFailed: boolean;\r\n  forgotPasswordRequest: boolean;\r\n  forgotPasswordFailed: boolean;\r\n  isforgotPasswordRequest: boolean;\r\n  isforgotPasswordSaccess: boolean;\r\n  isTokenUpdated: boolean;\r\n  tokenUpdateDate: boolean;\r\n};\r\nconst initialState: TAuthInitialState = {\r\n  email: \"\",\r\n  name: \"\",\r\n  registerRequest: false,\r\n  registerFailed: false,\r\n  loginRequest: false,\r\n  loginFailed: false,\r\n  loadUserRequest: false,\r\n  loadUserFailed: false,\r\n  logoutRequest: false,\r\n  logoutFailed: false,\r\n  forgotPasswordRequest: false,\r\n  forgotPasswordFailed: false,\r\n  isforgotPasswordRequest: false,\r\n  isforgotPasswordSaccess: false,\r\n  isTokenUpdated: false,\r\n  tokenUpdateDate: false,\r\n};\r\n\r\nexport const authReducer = (state = initialState, action: TAuthActions): TAuthInitialState => {\r\n  switch (action.type) {\r\n    case REGISTER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        registerRequest: true,\r\n      };\r\n    }\r\n    case REGISTER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        name: action.user.name,\r\n        email: action.user.email,\r\n      };\r\n    }\r\n    case REGISTER_FAILED: {\r\n      return {\r\n        ...state,\r\n        registerFailed: true,\r\n      };\r\n    }\r\n    case LOGIN_REQUEST: {\r\n      return {\r\n        ...state,\r\n        loginRequest: true,\r\n      };\r\n    }\r\n    case LOGIN_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        name: action.user.name,\r\n        email: action.user.email,\r\n      };\r\n    }\r\n    case LOGIN_FAILED: {\r\n      return {\r\n        ...state,\r\n        loginFailed: true,\r\n      };\r\n    }\r\n    case LOAD_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        loadUserRequest: true,\r\n      };\r\n    }\r\n    case LOAD_USER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        name: action.user.name,\r\n        email: action.user.email,\r\n      };\r\n    }\r\n    case LOAD_USER_FAILED: {\r\n      return {\r\n        ...state,\r\n        loadUserFailed: true,\r\n      };\r\n    }\r\n    case UPDATE_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        loginRequest: true,\r\n      };\r\n    }\r\n    case UPDATE_USER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        name: action.user.name,\r\n        email: action.user.email,\r\n      };\r\n    }\r\n    case UPDATE_USER_FAILED: {\r\n      return {\r\n        ...state,\r\n        loginFailed: true,\r\n      };\r\n    }\r\n    case LOGOUT_REQUEST: {\r\n      return {\r\n        ...state,\r\n        logoutRequest: true,\r\n      };\r\n    }\r\n    case LOGOUT_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        name: \"\",\r\n        email: \"\",\r\n      };\r\n    }\r\n    case LOGOUT_FAILED: {\r\n      return {\r\n        ...state,\r\n        logoutFailed: true,\r\n      };\r\n    }\r\n    case FORGOT_PASSWORD_REQUEST: {\r\n      return {\r\n        ...state,\r\n        forgotPasswordRequest: true,\r\n      };\r\n    }\r\n    case FORGOT_PASSWORD_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        isforgotPasswordRequest: true,\r\n        isforgotPasswordSaccess: true,\r\n      };\r\n    }\r\n    case FORGOT_PASSWORD_FAILED: {\r\n      return {\r\n        ...state,\r\n        forgotPasswordFailed: true,\r\n        isforgotPasswordRequest: true,\r\n      };\r\n    }\r\n    case REFRESH_TOKEN_REQUEST: {\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    case REFRESH_TOKEN_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        isTokenUpdated: true,\r\n        tokenUpdateDate: true,\r\n      };\r\n    }\r\n    case REFRESH_TOKEN_FAILED: {\r\n      return {\r\n        ...state,\r\n        isTokenUpdated: true,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","export const WS_CONNECTION_CLOSED: 'WS_CONNECTION_CLOSED' = 'WS_CONNECTION_CLOSED';\r\nexport const WS_CONNECTION_ERROR: 'WS_CONNECTION_ERROR' = 'WS_CONNECTION_ERROR';\r\nexport const WS_CONNECTION_SUCCESS: 'WS_CONNECTION_SUCCESS' = 'WS_CONNECTION_SUCCESS';\r\nexport const WS_GET_ORDERS: 'WS_GET_ORDERS' = 'WS_GET_ORDERS';\r\nexport const WS_SEND_MESSAGE: 'WS_SEND_MESSAGE' = 'WS_SEND_MESSAGE';\r\nexport const WS_GET_MESSAGE: 'WS_GET_MESSAGE' = 'WS_GET_MESSAGE';\r\nexport const WS_USER_NAME_UPDATE: 'WS_USER_NAME_UPDATE' = 'WS_USER_NAME_UPDATE';\r\n\r\nexport const WS_CONNECTION_START: 'WS_CONNECTION_START' = 'WS_CONNECTION_START';","import { TOrder } from '../../types';\r\nimport { TWSActionsActions } from '../actions/socket';\r\nimport {\r\n  WS_CONNECTION_SUCCESS,\r\n  WS_CONNECTION_ERROR,\r\n  WS_CONNECTION_CLOSED,\r\n  WS_GET_MESSAGE\r\n} from '../constants/socket';\r\n\r\nexport type TWsReducerInitialState = {\r\n  wsConnected: boolean;\r\n  orders: Array<TOrder>;\r\n  total: number ;\r\n  totalToday: number \r\n};\r\nconst initialState: TWsReducerInitialState = {\r\n  wsConnected: false,\r\n  orders: [],\r\n  total: 0,\r\n  totalToday: 0\r\n};\r\n\r\nexport const wsReducer = (state = initialState, action: TWSActionsActions): TWsReducerInitialState => {\r\n  switch (action.type) {\r\n    case WS_CONNECTION_SUCCESS:\r\n      return {\r\n        ...state,\r\n        wsConnected: true\r\n      };\r\n\r\n    case WS_CONNECTION_ERROR:\r\n      return {\r\n        ...state,\r\n        wsConnected: false\r\n      };\r\n\r\n    case WS_CONNECTION_CLOSED:\r\n      return {\r\n        ...state,\r\n        wsConnected: false\r\n      };\r\n\r\n    case WS_GET_MESSAGE:\r\n      console.log(action.payload);\r\n      \r\n      return {\r\n        ...state,\r\n        orders: action.payload.orders,\r\n        total: action.payload.total,\r\n        totalToday: action.payload.totalToday\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const WS_CONNECTION_CLOSED_AUTH: 'WS_CONNECTION_CLOSED_AUTH' = 'WS_CONNECTION_CLOSED_AUTH';\r\nexport const WS_CONNECTION_ERROR_AUTH: 'WS_CONNECTION_ERROR_AUTH' = 'WS_CONNECTION_ERROR_AUTH';\r\nexport const WS_CONNECTION_SUCCESS_AUTH: 'WS_CONNECTION_SUCCESS_AUTH' = 'WS_CONNECTION_SUCCESS_AUTH';\r\nexport const WS_GET_ORDERS_AUTH: 'WS_GET_ORDERS_AUTH' = 'WS_GET_ORDERS_AUTH';\r\nexport const WS_SEND_MESSAGE_AUTH: 'WS_SEND_MESSAGE_AUTH' = 'WS_SEND_MESSAGE_AUTH';\r\nexport const WS_GET_MESSAGE_AUTH: 'WS_GET_MESSAGE_AUTH' = 'WS_GET_MESSAGE_AUTH';\r\nexport const WS_USER_NAME_UPDATE_AUTH: 'WS_USER_NAME_UPDATE_AUTH' = 'WS_USER_NAME_UPDATE_AUTH';\r\n\r\nexport const WS_CONNECTION_START_AUTH : 'WS_CONNECTION_START_AUTH'= 'WS_CONNECTION_START_AUTH';\r\n","import { TOrder } from '../../types';\r\nimport { TWSActionsActionsAuth } from '../actions/socketAuth';\r\nimport {\r\n  WS_CONNECTION_SUCCESS_AUTH,\r\n  WS_CONNECTION_ERROR_AUTH,\r\n  WS_CONNECTION_CLOSED_AUTH,\r\n  WS_GET_MESSAGE_AUTH\r\n} from '../constants/socketAuth';\r\n\r\nexport type TWsReducerAuthInitialState = {\r\n  wsConnected: boolean;\r\n  orders: Array<TOrder>;\r\n  total: number;\r\n  totalToday: number\r\n};\r\nconst initialState: TWsReducerAuthInitialState = {\r\n  wsConnected: false,\r\n  orders: [],\r\n  total: 0,\r\n  totalToday: 0\r\n};\r\n\r\nexport const wsReducerAuth = (state = initialState, action: TWSActionsActionsAuth): TWsReducerAuthInitialState => {\r\n  switch (action.type) {\r\n    case WS_CONNECTION_SUCCESS_AUTH:\r\n      return {\r\n        ...state,\r\n        wsConnected: true\r\n      };\r\n\r\n    case WS_CONNECTION_ERROR_AUTH:\r\n      return {\r\n        ...state,\r\n        wsConnected: false\r\n      };\r\n\r\n    case WS_CONNECTION_CLOSED_AUTH:\r\n      return {\r\n        ...state,\r\n        wsConnected: false\r\n      };\r\n\r\n    case WS_GET_MESSAGE_AUTH:\r\n      return {\r\n        ...state,\r\n        orders: action.payload.orders,\r\n        total: action.payload.total,\r\n        totalToday: action.payload.totalToday\r\n      };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const INCREASE_INGREDIENT: 'INCREASE_INGREDIENT' = \"INCREASE_INGREDIENT\";\r\nexport const DECREASE_INGREDIENT: 'DECREASE_INGREDIENT' = \"DECREASE_INGREDIENT\";\r\nexport const DELETE_ITEM: 'DELETE_ITEM' = \"DELETE_ITEM\";\r\nexport const MOVE_ITEM = \"MOVE_ITEM\";\r\n\r\nexport const GET_INGREDIENTS_FAILED: 'GET_INGREDIENTS_FAILED' = \"GET_INGREDIENTS_FAILED\";\r\nexport const GET_INGREDIENTS_REQUEST: 'GET_INGREDIENTS_REQUEST' = \"GET_INGREDIENTS_REQUEST\";\r\nexport const GET_INGREDIENTS_SUCCESS: 'GET_INGREDIENTS_SUCCESS' = \"GET_INGREDIENTS_SUCCESS\";\r\n\r\nexport const GET_ORDER_REQUEST: 'GET_ORDER_REQUEST' = \"GET_ORDER_REQUEST\";\r\nexport const GET_ORDER_SUCCESS: 'GET_ORDER_SUCCESS' = \"GET_ORDER_SUCCESS\";\r\nexport const GET_ORDER_FAILED: 'GET_ORDER_FAILED' = \"GET_ORDER_FAILED\";\r\n\r\nexport const ADD_INGREDIENTS_BUN: 'ADD_INGREDIENTS_BUN' = \"ADD_INGREDIENTS_BUN\";\r\nexport const ADD_INGREDIENTS_FILLINGS: 'ADD_INGREDIENTS_FILLINGS' = \"ADD_INGREDIENTS_FILLINGS\";\r\nexport const CREATE_ORDER_REQUEST: 'CREATE_ORDER_REQUEST' = \"CREATE_ORDER_REQUEST\";\r\nexport const CREATE_ORDER_SUCCESS: 'CREATE_ORDER_SUCCESS' = \"CREATE_ORDER_SUCCESS\";\r\nexport const CREATE_ORDER_FAILED: 'CREATE_ORDER_FAILED' = \"CREATE_ORDER_FAILED\";\r\n\r\nexport const OPEN_MODAL: 'OPEN_MODAL' = \"OPEN_MODAL\";\r\nexport const CLOSE_MODAL: 'CLOSE_MODAL' = \"CLOSE_MODAL\";\r\n\r\nexport const TAB_SWITCH: 'TAB_SWITCH' = \"TAB_SWITCH\";","import { v4 as uuidv4 } from \"uuid\";\r\nimport { TOrder, TProduct } from \"../../types\";\r\nimport { TCardsActions } from \"../actions/card\";\r\n\r\nimport { INCREASE_INGREDIENT, DECREASE_INGREDIENT, DELETE_ITEM, MOVE_ITEM, \r\n  GET_INGREDIENTS_FAILED, GET_INGREDIENTS_REQUEST, GET_INGREDIENTS_SUCCESS, \r\n  ADD_INGREDIENTS_BUN, ADD_INGREDIENTS_FILLINGS, CREATE_ORDER_FAILED, \r\n  CREATE_ORDER_SUCCESS, CREATE_ORDER_REQUEST } from \"../constants/card\";\r\n\r\nexport type TCardInitialState = {\r\n  isLoading: boolean;\r\n  hasError: boolean;\r\n  dataReceived: boolean;\r\n  data: Array<TProduct>,\r\n  burger: {\r\n    bun: null | TProduct,\r\n    fillings: Array<TProduct>,\r\n  },\r\n  counts: {[ name: string]: number},  \r\n  currentOrder: TOrder | null;\r\n  orderIsLoading: boolean;\r\n  orderHasError: boolean;\r\n};\r\nconst initialState: TCardInitialState = {\r\n  isLoading: false,\r\n  hasError: false,\r\n  dataReceived: false,\r\n  data: [],\r\n  burger: {\r\n    bun: null,\r\n    fillings: [],\r\n  },\r\n  counts: {},  \r\n  currentOrder: null,\r\n  orderIsLoading: false,\r\n  orderHasError: false,\r\n};\r\n\r\nexport const cardReducer = (state = initialState, action: TCardsActions): TCardInitialState => {\r\n  switch (action.type) {\r\n    case GET_INGREDIENTS_REQUEST: {\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        hasError: false,\r\n      };\r\n    }\r\n    case GET_INGREDIENTS_SUCCESS: {\r\n      return { ...state, hasError: false, data: action.data, isLoading: false, dataReceived: true, };\r\n    }\r\n    case GET_INGREDIENTS_FAILED: {\r\n      return { ...state, hasError: true, isLoading: false };\r\n    }\r\n    case CREATE_ORDER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        orderIsLoading: true,\r\n        orderHasError: false,\r\n      };\r\n    }\r\n    case CREATE_ORDER_SUCCESS: {\r\n            \r\n      return { ...state, orderHasError: false, currentOrder: action.data, orderIsLoading: false };\r\n    }\r\n    case CREATE_ORDER_FAILED: {\r\n      return { ...state, orderHasError: true, orderIsLoading: false };\r\n    }\r\n\r\n    // case ADD_CURRENT_ITEM: {\r\n    //   return { ...state, currentItem: action.item };\r\n    // }\r\n    case INCREASE_INGREDIENT: {\r\n      if (action.item.type === \"bun\") {\r\n        return state;\r\n      } else {\r\n        return {\r\n          ...state,\r\n          counts: { ...state.counts, [action.item._id]: (state.counts[action.item._id] || 0) + 1 },\r\n        };\r\n      }\r\n    }\r\n    case DECREASE_INGREDIENT: {\r\n      const { typeItem } = action;\r\n      if (typeItem !== \"bun\") {\r\n        return {\r\n          ...state,\r\n          counts: {\r\n            ...state.counts,\r\n            [action.key]: state.counts[action.key] - 1,\r\n          },\r\n        };\r\n      } else return state;\r\n    }\r\n    case DELETE_ITEM: {\r\n      return {\r\n        ...state,\r\n        burger: {\r\n          ...state.burger,\r\n          fillings: [...state.burger.fillings].filter((el) => el.productId !== action.id),\r\n        },\r\n      };\r\n    }\r\n    case MOVE_ITEM: {\r\n      const fillings = [...state.burger.fillings];\r\n      fillings.splice(action.toIndex, 0, fillings.splice(action.fromIndex, 1)[0]);\r\n      return {\r\n        ...state,\r\n        burger: {\r\n          ...state.burger,\r\n          fillings: fillings,\r\n        },\r\n      };\r\n    }\r\n    case ADD_INGREDIENTS_BUN: {\r\n      return {\r\n        ...state,\r\n        burger: {\r\n          ...state.burger,\r\n          bun: action.item,\r\n        },\r\n      };\r\n    }\r\n    case ADD_INGREDIENTS_FILLINGS: {\r\n      const element = { ...action.item, productId: uuidv4() };\r\n      return {\r\n        ...state,\r\n        burger: {\r\n          ...state.burger,\r\n          fillings: [...state.burger.fillings, element],\r\n        },\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { authReducer } from './auth';\r\nimport { createBrowserHistory } from 'history';\r\nimport { connectRouter } from 'connected-react-router';\r\nimport { wsReducer } from './wsReducer';\r\nimport { wsReducerAuth } from './wsReducerAuth';\r\nimport { cardReducer } from './card';\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nexport const rootReducer = combineReducers({\r\n  card: cardReducer,\r\n  auth: authReducer,\r\n  router: connectRouter(history),\r\n  ws: wsReducer,\r\n  wsAuth: wsReducerAuth\r\n});\r\n\r\n","export const getCookie = (name: string) => {\r\n\tconst matches = document.cookie.match(\r\n\t\tnew RegExp('(?:^|; )' + name.replace(/([\\$?*|{}\\\\\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)')\r\n\t);\r\n\treturn matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\ntype TSetCookieProps = {\r\n  expires?: number | string;\r\n  path?: string;\r\n} & { [extraParams: string]: string | number | boolean; }\r\n\r\nexport const setCookie = (name: string, value: string | number | boolean, props?: TSetCookieProps) => {\r\n  props = {\r\n    path: '/',\r\n    ...props,\r\n  };\r\n  let exp = props.expires;\r\n  const d = new Date();\r\n  if (typeof exp == 'number' && exp) {\r\n    d.setTime(d.getTime() + exp * 1000);\r\n    exp = props.expires = Number(d);\r\n  }\r\n  if (exp && d.toUTCString) {\r\n    props.expires = d.toUTCString();\r\n  }\r\n  value = encodeURIComponent(value);\r\n  let updatedCookie = name + '=' + value;\r\n  for (const propName in props) {\r\n    updatedCookie += '; ' + propName;\r\n    const propValue = props[propName];\r\n    if (propValue !== true) {\r\n      updatedCookie += '=' + propValue;\r\n    }\r\n  }\r\n  document.cookie = updatedCookie;\r\n};\r\n\r\nexport const deleteCookie = (name: string) => {\r\n\tsetCookie(name, false, { expires: -1 });\r\n}","import { getCookie } from '../../utils/cookie'\r\n\r\nimport { AnyAction, MiddlewareAPI } from 'redux';\r\nimport { TWSAction } from '../../types';\r\n\r\n\r\nexport const socketMiddleware = (wsUrl: string, wsActions: TWSAction, isAuth: boolean) => ( store: MiddlewareAPI) =>{\r\n  \r\n    let socket: WebSocket | null = null;\r\n\r\n    return(next: (i: AnyAction) => void) => (action: AnyAction) => {\r\n      // const { dispatch, getState } = store;\r\n      const { dispatch } = store;\r\n      const { type } = action;\r\n      // const { type, payload } = action;\r\n      // const { wsInit, wsSendMessage, onOpen, onClose, onError, onMessage } = wsActions;\r\n      const { wsInit, onOpen, onClose, onError, onMessage } = wsActions;\r\n      // const { user } = getState().user;\r\n      const token = isAuth ? getCookie('token') : null;\r\n      if (type === wsInit) {\r\n\t\t\t\tsocket = token\r\n\t\t\t\t\t? new WebSocket(`${wsUrl}?token=${token}`)\r\n\t\t\t\t\t: new WebSocket(`${wsUrl}`);\r\n\t\t\t}\r\n      if (socket) {\r\n        socket.onopen = event => {\r\n          dispatch({ type: onOpen, payload: event });\r\n        };\r\n\r\n        socket.onerror = event => {\r\n          dispatch({ type: onError, payload: event });\r\n        };\r\n\r\n        socket.onmessage = event => {\r\n          const { data } = event;\r\n          const parsedData = JSON.parse(data);\r\n          const { success, ...restParsedData } = parsedData;\r\n\r\n          dispatch({ type: onMessage, payload: restParsedData });\r\n        };\r\n\r\n        socket.onclose = event => {\r\n          dispatch({ type: onClose, payload: event });\r\n        };\r\n\r\n        // if (type === wsSendMessage) {\r\n        //   const message = { ...payload, token: user.token };\r\n        //   socket.send(JSON.stringify(message));\r\n        // }\r\n      }\r\n\r\n      next(action);\r\n    \r\n  };\r\n};\r\n","import { PayloadAction } from '@reduxjs/toolkit';\r\nimport { TGetOrders } from '../../types';\r\nimport {  \r\n  WS_CONNECTION_SUCCESS,\r\n  WS_CONNECTION_ERROR,\r\n  WS_CONNECTION_CLOSED,\r\n  WS_GET_MESSAGE,\r\n\tWS_CONNECTION_START\r\n} from '../constants/socket';\r\n\r\nexport const wsActions = {\r\n\twsInit: WS_CONNECTION_START,\t\r\n\tonOpen: WS_CONNECTION_SUCCESS,\r\n\tonClose: WS_CONNECTION_CLOSED,\r\n\tonError: WS_CONNECTION_ERROR,\r\n\tonMessage: WS_GET_MESSAGE\r\n};\r\n\r\nexport interface IWsConnectionSuccesshAction {\r\n\treadonly type: typeof WS_CONNECTION_SUCCESS;\r\n\treadonly payload: PayloadAction;\r\n}\r\nexport interface IWsConnectionErrorAction {\r\n\treadonly type: typeof WS_CONNECTION_ERROR;\r\n\treadonly payload: PayloadAction;\r\n}\r\nexport interface IWsConnectionClosedAction {\r\n\treadonly type: typeof WS_CONNECTION_CLOSED;\r\n\t\r\n}\r\nexport interface IWsGetMessageAction {\r\n\treadonly type: typeof WS_GET_MESSAGE;\r\n\treadonly payload: TGetOrders;\r\n}\r\nexport interface IWsConnectionStartAction {\r\n\treadonly type: typeof WS_CONNECTION_START;\r\n}\r\n\r\nexport type TWSActionsActions =\t\r\n\t| IWsConnectionSuccesshAction\r\n\t| IWsConnectionErrorAction\r\n\t| IWsConnectionClosedAction\r\n\t| IWsGetMessageAction\r\n\t| IWsConnectionStartAction\r\n","import { PayloadAction } from '@reduxjs/toolkit';\r\nimport { TGetOrders } from '../../types';\r\nimport { \r\n  WS_CONNECTION_SUCCESS_AUTH,\r\n  WS_CONNECTION_ERROR_AUTH,\r\n  WS_CONNECTION_CLOSED_AUTH,\r\n  WS_GET_MESSAGE_AUTH,\r\n  WS_CONNECTION_START_AUTH\r\n} from '../constants/socketAuth';\r\n\r\nexport const wsActionsAuth = {\r\n  wsInit: WS_CONNECTION_START_AUTH,  \r\n  onOpen: WS_CONNECTION_SUCCESS_AUTH,\r\n  onClose: WS_CONNECTION_CLOSED_AUTH,\r\n  onError: WS_CONNECTION_ERROR_AUTH,\r\n  onMessage: WS_GET_MESSAGE_AUTH\r\n};\r\n\r\nexport interface IWsConnectionSuccesshAuthAction {\r\n\treadonly type: typeof WS_CONNECTION_SUCCESS_AUTH;\r\n  readonly payload: PayloadAction;\r\n}\r\nexport interface IWsConnectionErrorAuthAction {\r\n\treadonly type: typeof WS_CONNECTION_ERROR_AUTH;\r\n  readonly payload: PayloadAction;\r\n}\r\nexport interface IWsConnectionClosedAuthAction {\r\n\treadonly type: typeof WS_CONNECTION_CLOSED_AUTH;\r\n  readonly payload: PayloadAction;\r\n}\r\nexport interface IWsGetMessageAuthAction {\r\n\treadonly type: typeof WS_GET_MESSAGE_AUTH;\r\n  readonly payload: TGetOrders;\r\n}\r\nexport interface IWsConnectionStartAuthAction {\r\n\treadonly type: typeof WS_CONNECTION_START_AUTH;\r\n}\r\n\r\nexport type TWSActionsActionsAuth =\t\r\n\t| IWsConnectionSuccesshAuthAction\r\n\t| IWsConnectionErrorAuthAction\r\n\t| IWsConnectionClosedAuthAction\r\n\t| IWsGetMessageAuthAction\r\n  | IWsConnectionStartAuthAction\r\n","import { compose, createStore, applyMiddleware } from 'redux';\r\nimport { rootReducer, history } from './services/reducers';\r\nimport { socketMiddleware } from './services/middleware';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport thunk from 'redux-thunk';\r\nimport { wsActions } from './services/actions/socket';\r\nimport { wsActionsAuth } from './services/actions/socketAuth';\r\nconst wsUrl = 'wss://norma.nomoreparties.space/orders/all';\r\nconst wsUrlAuth = 'wss://norma.nomoreparties.space/orders';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    REDUX_DEVTOOLS_EXTENSION_COMPOSE?: typeof compose;\r\n  }\r\n}\r\n\r\nexport const composeEnhancers = window.REDUX_DEVTOOLS_EXTENSION_COMPOSE || compose;\r\n\r\nconst enhancer = composeEnhancers(\r\n  applyMiddleware(thunk, routerMiddleware(history), socketMiddleware(wsUrl, wsActions, false), socketMiddleware(wsUrlAuth, wsActionsAuth, true))\r\n);\r\n\r\nexport const store = createStore(rootReducer, enhancer);\r\n\r\n// import {socketMiddleware} from './services/middlewares/socketMiddleware';\r\n\r\n","import styles from \"./app-header.module.css\";\r\nimport cn from \"classnames\";\r\nimport { BurgerIcon, ListIcon, Logo, ProfileIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { NavLink, useRouteMatch } from \"react-router-dom\";\r\n\r\nfunction AppHeader() {\r\n  \r\n  const isConstructor = !!useRouteMatch({ path: '/', exact: true});\r\n  const isFeed = !!useRouteMatch('/feed');\r\n  const isProfile = !!useRouteMatch('/profile');\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <nav className={styles.container}>\r\n        <div className={cn(styles.block)}>\r\n          <NavLink exact to=\"/\" className={cn(styles.link)} activeClassName={styles.active}>\r\n            <BurgerIcon type={isConstructor  ? \"primary\" : \"secondary\"} />\r\n            <span className={cn(\"pl-1\", \"mr-4\", \"text\", \"text_type_main-default\")}>Конструктор</span>\r\n          </NavLink>\r\n          <NavLink to=\"/feed\" className={cn(styles.link)} activeClassName={styles.active}>\r\n            <ListIcon type={isFeed ? \"primary\" : \"secondary\"}  />\r\n            <span className={cn(\"pl-1\", \"text\", \"text_type_main-default\")}>Лента заказов</span>\r\n          </NavLink>\r\n        </div>\r\n        <Logo />\r\n        <NavLink to=\"/profile\" className={cn(styles.link)} activeClassName={styles.active}>\r\n          <ProfileIcon type={isProfile ? \"primary\" : \"secondary\"} />\r\n          <span className={cn(\"text\", \"text_type_main-default\", \"pl-1\")}>Личный кабинет</span>\r\n        </NavLink>        \r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default AppHeader;\r\n","import {\r\n  TypedUseSelectorHook,\r\n  useDispatch as dispatchHook,\r\n  useSelector as selectorHook\r\n} from 'react-redux';\r\nimport { AppDispatch, AppThunk, RootState } from './types';\r\n\r\nexport const useDispatch = () => dispatchHook<AppDispatch | AppThunk>();\r\nexport const useSelector: TypedUseSelectorHook<RootState> = selectorHook;","import React from \"react\";\r\nimport styles from \"./card.module.css\";\r\nimport { CurrencyIcon, Counter } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { useSelector } from \"../../hooks\";\r\nimport { useDrag } from \"react-dnd\";\r\nimport { FC } from 'react';\r\nimport { TProduct } from \"../../types\";\r\n\r\ntype TProps = { el: TProduct }\r\n\r\nconst Card:FC<TProps> = React.memo(({ el }) => {\r\n  const [, drag] = useDrag({\r\n    type: \"product\",\r\n    item: el,\r\n  }); \r\n  \r\n  const { counts, burger } = useSelector((store) => store.card);\r\n  const count = el.type==='bun' && burger.bun?._id===el._id ? 2 : counts[el._id];\r\n  // count = el.type==='bun' && burger.bun?._id===el._id ? 2 : id;\r\n  \r\n  return (\r\n    <div ref={drag} data-cy='ingredient'  className={styles.card} key={el._id} >\r\n      <img src={el.image} alt={el.name} />\r\n      <p className={styles.price}>\r\n        <span className=\"text text_type_digits-default mr-2\">{el.price}</span>\r\n        <CurrencyIcon type=\"primary\" />\r\n      </p>\r\n      <p className={styles.name}>{el.name}</p>\r\n      {count ? <Counter count={count} size=\"default\" /> : null}\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default Card;\r\n","import styles from \"./cards.module.css\";\r\nimport React from \"react\";\r\nimport Card from \"../card/card\";\r\nimport cn from \"classnames\";\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { TProduct } from \"../../types\";\r\n\r\ntype TProps = { title: string; ingredients: Array<TProduct> }\r\n\r\nconst Cards = React.forwardRef<HTMLHeadingElement, TProps> (({ title, ingredients }, ref) => {\r\n  const location = useLocation()\r\n\r\n  return (\r\n    <>\r\n      <h2 className={cn(\"text\", \"text_type_main-medium\", \"mb-6\", \"mt-10\")} ref={ref}>\r\n        {title}\r\n      </h2>\r\n      <div className={styles.cards}>\r\n        {ingredients.map((el) => (\r\n          <Link className={styles.link} key={el._id} to={{pathname: `/ingredients/${el._id}`, \r\n          state: {background: location}}}>\r\n            <Card el={el} />\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n})\r\n\r\nexport default Cards;\r\n","import React, { useEffect, useRef }  from \"react\";\r\nimport styles from \"./burger-ingredients.module.css\";\r\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport Cards from '../cards/cards';\r\n\r\nimport cn from 'classnames';\r\nimport {  useSelector } from '../../hooks';\r\nimport { TProduct } from \"../../types\";\r\n\r\nconst BurgerIngredients = () => {\r\n  const [current, setCurrent] = React.useState(\"buns\");\r\n  const data: Array<TProduct> = useSelector((store) => store.card.data)\r\n\r\n  const bun: Array<TProduct> = data.filter((item) => item.type === \"bun\");\r\n  const sauce: Array<TProduct> = data.filter((item) => item.type === \"sauce\");\r\n  const main: Array<TProduct> = data.filter((item) => item.type === \"main\");\r\n\t\r\n\tconst headerRef = useRef<HTMLElement>(null);\r\n\tconst bunRef = useRef<HTMLHeadingElement>(null);\r\n\tconst sauceRef = useRef<HTMLHeadingElement>(null);\r\n\tconst mainRef = useRef<HTMLHeadingElement>(null);\r\n\r\n\tconst handleScroll = () => {\r\n    if (headerRef && bunRef && sauceRef && mainRef && headerRef.current && bunRef.current && sauceRef.current && mainRef.current) {\r\n\t\t  const bunDistance = Math.abs(headerRef.current.getBoundingClientRect().top - bunRef.current.getBoundingClientRect().top)\r\n\t\t  const sauceDistance = Math.abs(headerRef.current.getBoundingClientRect().top - sauceRef.current.getBoundingClientRect().top)\r\n\t\t  const mainDistance = Math.abs(headerRef.current.getBoundingClientRect().top - mainRef.current.getBoundingClientRect().top)\r\n\t\t  const minDistance = Math.min(bunDistance, sauceDistance, mainDistance);\r\n\t\t  const currentHeader = minDistance === bunDistance ? 'buns' : minDistance === sauceDistance ? 'sauces' : 'mains';\r\n      setCurrent((prevState: string) => (currentHeader === prevState ? prevState : currentHeader))\r\n    }\r\n\t}\r\n\r\n  useEffect(() => {\r\n    if (current === 'buns') bunRef?.current?.scrollIntoView();\r\n    if (current === 'sauces') sauceRef?.current?.scrollIntoView();\r\n    if (current === 'mains') mainRef?.current?.scrollIntoView();\r\n  }, [current]);\r\n\r\n  return (\r\n    <div>\r\n      <section className={styles.header}>\r\n        <h1 className={cn(styles.title, 'text', 'text_type_main-large', 'mt-10' )}>Соберите бургер</h1>\r\n        <div className={styles.tabs}>\r\n          <Tab value=\"buns\" active={current === \"buns\"} onClick={setCurrent}>\r\n            Булки\r\n          </Tab>\r\n          <Tab value=\"sauces\" active={current === \"sauces\"} onClick={setCurrent}>\r\n            Соусы\r\n          </Tab>\r\n          <Tab value=\"mains\" active={current === \"mains\"} onClick={setCurrent}>\r\n            Начинки\r\n          </Tab>\r\n        </div>\r\n      </section>\r\n\r\n      <section className={styles.main}  ref={headerRef} onScroll={handleScroll}>\r\n        <Cards title='Булки' ingredients={ bun } ref={bunRef}  />\r\n        <Cards title='Соусы' ingredients={ sauce } ref={sauceRef}  />\r\n        <Cards title='Начинки' ingredients={ main } ref={mainRef} />    \r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BurgerIngredients;\r\n","// const url = \"https://norma.nomoreparties.space/api/ingredients\"\r\nconst url = \"https://norma.nomoreparties.space/api\"\r\n\r\nexport default url","import { useRef, FC } from \"react\";\r\nimport styles from \"./burger-constructor-elements.module.css\";\r\nimport cn from 'classnames';\r\nimport { ConstructorElement, DragIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { useDrag, useDrop, DropTargetMonitor } from 'react-dnd';\r\nimport {TProduct} from '../../types';\r\nimport { XYCoord } from 'dnd-core'\r\n\r\ntype TProps = {item: TProduct; index: number; moveItem: (dragIndex: number, hoverIndex: number) => void; deleteItem: () => void}\r\ntype TDragItem = {\r\n  index: number\r\n  id: string\r\n}\r\n\r\nconst BurgerConstructorElements: FC<TProps>= ({ item, index, moveItem, deleteItem}) => {\r\n  const id = item._id\r\n  const ref = useRef<HTMLLIElement>(null);\r\n  \r\n  const [, drop] = useDrop({\r\n    accept: 'item',\r\n\t\tcollect(monitor) {\r\n      return {\r\n        handlerId: monitor.getHandlerId(),\r\n\t\t\t};\r\n\t\t},\r\n\t\thover(el: TDragItem, monitor: DropTargetMonitor) {\r\n      if (!ref.current) {\r\n        return;\r\n\t\t\t}\r\n\t\t\tconst dragIndex = el.index;\r\n\t\t\tconst hoverIndex = index;\r\n      if (dragIndex === hoverIndex) {\r\n        return;\r\n\t\t\t}\r\n\t\t\tconst hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n\t\t\tconst hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n\t\t\tconst clientOffset = monitor.getClientOffset();\r\n\t\t\tconst hoverClientY = (clientOffset as XYCoord).y - hoverBoundingRect.top;\r\n\t\t\tif (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n        return;\r\n\t\t\t}\r\n\t\t\tif (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n      moveItem(dragIndex, hoverIndex);\r\n\t\t\tel.index = hoverIndex;\r\n\t\t},\r\n\t});\r\n  const [{ isDrag }, drag] = useDrag({\r\n\t\ttype: 'item',\r\n\t\titem: () => {\r\n\t\t\treturn { id, index };\r\n\t\t},\r\n\t\tcollect: (monitor) => ({\r\n\t\t\tisDrag: monitor.isDragging(),      \r\n\t\t}),\r\n\t});\r\n  const opacity = isDrag ? 0 : 1;\r\n  drag(drop(ref))\r\n\r\n  return (\r\n    <li ref={ref}  style={{ opacity }} className={cn(styles.item, \"mb-5\")}>\r\n      <DragIcon type=\"primary\" />\r\n      <ConstructorElement text={item.name} price={item.price} thumbnail={item.image} handleClose={deleteItem} />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default BurgerConstructorElements;\r\n","import React from \"react\";\r\nimport s from \"./constructor-empty.module.css\";\r\nimport cn from 'classnames';\r\n\r\nconst ConstructorEmpty = () => {\r\n  return (\r\n    <div className={cn(s.container, 'text', 'text_type_main-large')}>\r\n      <h2 className={s.title}>Соберите бургер</h2>\r\n      <p>Перетащите ингредиенты из левой части </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConstructorEmpty;\r\n","import React, { useCallback } from \"react\";\r\nimport { ConstructorElement, Button, CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport styles from \"./burger-constructor.module.css\";\r\nimport cn from \"classnames\";\r\n// import OrderDetails from \"../order-details/order-details\";\r\nimport { useDrop } from \"react-dnd\";\r\n\r\nimport { useSelector, useDispatch } from \"../../hooks\";\r\nimport { addOrder } from \"../../services/actions/card\";\r\nimport { ADD_INGREDIENTS_BUN, ADD_INGREDIENTS_FILLINGS, INCREASE_INGREDIENT, MOVE_ITEM, DELETE_ITEM, DECREASE_INGREDIENT } from \"../../services/constants/card\";\r\nimport BurgerConstructorElements from \"../burg-constr-elements/burger-constructor-elements\";\r\nimport ConstructorEmpty from \"../constructor-empty/constuctor-empty\";\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport {TProduct} from '../../types';\r\n\r\ntype TBurger = { bun: TProduct | null; fillings: Array<TProduct>}\r\n\r\nconst BurgerConstructor = () => {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [{ canDrop, isOver }, drop] = useDrop(() => ({\r\n    accept: \"product\",\r\n    drop: (item: TProduct) => {\r\n      item.type === \"bun\"\r\n        ? dispatch({\r\n            type: ADD_INGREDIENTS_BUN,\r\n            item,\r\n          })\r\n          : dispatch({\r\n              type: ADD_INGREDIENTS_FILLINGS,\r\n              item,\r\n            }) \r\n            dispatch({\r\n              type: INCREASE_INGREDIENT,\r\n              item,\r\n            });\r\n        },\r\n    collect: (monitor) => ({\r\n      isOver: monitor.isOver(),\r\n      canDrop: monitor.canDrop(),\r\n    }),\r\n  }));\r\n\r\n  const isActive = canDrop && isOver;\r\n  let classModificator = isActive\r\n    ? 'burger-container_active'\r\n    : canDrop\r\n      ? 'burger-container_candrop'\r\n      : '';\r\n\r\n  const dispatch = useDispatch();\r\n  const burger: TBurger = useSelector((store) => store.card.burger);\r\n\r\n  const handleClick = () => {\r\n    const ingredients = [...burger.fillings.map((el) => el._id), burger.bun, burger.bun];\r\n\r\n    dispatch(addOrder(ingredients));\r\n    history.push({\r\n      pathname: '/',\r\n      state: {\r\n        background: location\r\n      }\r\n    });    \r\n  };\r\n\r\n  let sum = (burger.bun?.price || 0) * 2;\r\n  burger.fillings.forEach((el) => (sum += el.price));\r\n\r\n  const moveItem = useCallback(\r\n    (dragIndex, hoverIndex) => {\r\n      dispatch({\r\n        type: MOVE_ITEM,\r\n        toIndex: hoverIndex,\r\n        fromIndex: dragIndex,\r\n      });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  return (\r\n    <section ref={drop} data-cy='drop-container' className={cn(styles.container, styles[classModificator])}>\r\n      {burger.bun || burger.fillings.length ? (\r\n        <>\r\n          {burger.bun && (\r\n            <header className={cn(styles.element, \"mb-5\")}  data-cy='bun1'>\r\n              <ConstructorElement type=\"top\" isLocked={true} text={`${burger.bun.name} (верх)`} price={burger.bun.price} thumbnail={burger.bun.image} />\r\n            </header>\r\n          )}\r\n          <ul className={styles.list}  data-cy='fillings'>\r\n            {burger.fillings.map((el, index) => {\r\n              const deleteItem = () => {\r\n                dispatch({\r\n                  type: DECREASE_INGREDIENT,\r\n                  key: el._id,\r\n                  typeItem: el.type,\r\n                });\r\n                dispatch({\r\n                  type: DELETE_ITEM,\r\n                  id: el.productId,\r\n                });\r\n              };\r\n              return <BurgerConstructorElements deleteItem={deleteItem} index={index} key={el.productId} item={el} moveItem={moveItem} />;\r\n            })}\r\n          </ul>\r\n          {burger.bun && (\r\n            <div className={cn(styles.element, \"mb-10\")}  data-cy='bun2'> \r\n              <ConstructorElement type=\"bottom\" isLocked={true} text={`${burger.bun.name} (низ)`} price={burger.bun.price} thumbnail={burger.bun.image} />\r\n            </div>\r\n          )}\r\n\r\n          <div className={styles.total}>\r\n            <div className={cn(styles.price, \"mr-10\")}>\r\n              <span className=\"text text_type_digits-default mr-2\">{sum}</span>\r\n              <CurrencyIcon type=\"primary\" />\r\n            </div>\r\n\r\n            {burger.bun && (\r\n              <Button type=\"primary\" size=\"large\" onClick={handleClick}>\r\n                Нажми на меня\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <ConstructorEmpty />\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default BurgerConstructor;\r\n","import { TOrder, TProduct } from \"../../types\";\r\nimport url from \"../../utils/config\";\r\nimport { getCookie } from \"../../utils/cookie\";\r\n\r\nimport { INCREASE_INGREDIENT, DECREASE_INGREDIENT, DELETE_ITEM, MOVE_ITEM, \r\n   GET_INGREDIENTS_REQUEST, GET_INGREDIENTS_SUCCESS, GET_INGREDIENTS_FAILED, \r\n  ADD_INGREDIENTS_BUN, ADD_INGREDIENTS_FILLINGS, CREATE_ORDER_FAILED, \r\n  CREATE_ORDER_SUCCESS, CREATE_ORDER_REQUEST } from \"../constants/card\";\r\n\r\n  import { AppDispatch, AppThunk } from '../../types';\r\n  \r\n\r\nexport interface IIncreaseIngredientAction {\r\n  readonly type: typeof INCREASE_INGREDIENT;\r\n  readonly item: TProduct;\r\n}\r\nexport interface IDecreaseIngredientAction {\r\n  readonly type: typeof DECREASE_INGREDIENT;\r\n  readonly key: string;\r\n  readonly typeItem: string\r\n}\r\nexport interface IDeleteItemAction {\r\n  readonly type: typeof DELETE_ITEM;\r\n  readonly id: string;\r\n}\r\nexport interface IMoveItemAction {\r\n  readonly type: typeof MOVE_ITEM;\r\n  readonly toIndex: number;\r\n  readonly fromIndex: number;\r\n \r\n}\r\nexport interface IGetIngredientsRequestAction {\r\n  readonly type: typeof GET_INGREDIENTS_REQUEST;\r\n}\r\nexport interface IGetIngredientsSuccessAction {\r\n  readonly type: typeof GET_INGREDIENTS_SUCCESS;\r\n  readonly data: Array<TProduct>\r\n}\r\nexport interface IGetIngredientsFailedAction {\r\n  readonly type: typeof GET_INGREDIENTS_FAILED;\r\n}\r\n\r\nexport interface IAddIngredientsBunAction {\r\n  readonly type: typeof ADD_INGREDIENTS_BUN;\r\n  readonly item: TProduct\r\n}\r\nexport interface IAddIngredientsFillingsAction {\r\n  readonly type: typeof ADD_INGREDIENTS_FILLINGS;\r\n  readonly item: TProduct\r\n}\r\nexport interface ICreateOrderFailedAction {\r\n  readonly type: typeof CREATE_ORDER_FAILED;\r\n}\r\nexport interface ICreateOrderSuccessAction {\r\n  readonly type: typeof CREATE_ORDER_SUCCESS;\r\n  readonly data: TOrder;\r\n}\r\nexport interface ICreateOrderRequestAction {\r\n  readonly type: typeof CREATE_ORDER_REQUEST;\r\n}\r\n\r\nexport type TCardsActions =\r\n  | IIncreaseIngredientAction\r\n  | IDecreaseIngredientAction\r\n  | IDeleteItemAction\r\n  | IMoveItemAction\r\n  | IGetIngredientsRequestAction\r\n  | IGetIngredientsRequestAction\r\n  | IGetIngredientsSuccessAction\r\n  | IGetIngredientsFailedAction\r\n  | IAddIngredientsBunAction\r\n  | IAddIngredientsFillingsAction\r\n  | ICreateOrderFailedAction\r\n  | ICreateOrderSuccessAction\r\n  | ICreateOrderRequestAction\r\n\r\nexport const getIngredients: AppThunk = () => {\r\n  return function (dispatch: AppDispatch) {\r\n    dispatch({\r\n      type: GET_INGREDIENTS_REQUEST,\r\n    });    \r\n    fetch(`${url}/ingredients`)\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw new Error(`ошибка: ` + res.status);\r\n        } else {\r\n          return res.json();\r\n        }\r\n      })\r\n      .then((res) => {\r\n        if (res && res.success) {\r\n          dispatch({\r\n            type: GET_INGREDIENTS_SUCCESS,\r\n            data: res.data,\r\n          });\r\n        } else {\r\n          dispatch({\r\n            type: GET_INGREDIENTS_FAILED,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: GET_INGREDIENTS_FAILED,\r\n        });\r\n      });\r\n  };\r\n};\r\n\r\nexport const addOrder: AppThunk = (ingredients) => {\r\n  return function (dispatch: AppDispatch) {\r\n    dispatch({\r\n      type: CREATE_ORDER_REQUEST,\r\n    });    \r\n    fetch(`${url}/orders`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: 'Bearer ' + getCookie('token')\r\n      },\r\n      body: JSON.stringify({ ingredients }),\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw new Error(`ошибка: ` + res.status);\r\n        } else {\r\n          return res.json();\r\n        }\r\n      })\r\n      .then((res) => {\r\n        if (res && res.success) {          \r\n          dispatch({\r\n            type: CREATE_ORDER_SUCCESS,\r\n            data: res.order,\r\n          });\r\n        } else {\r\n          dispatch({\r\n            type: CREATE_ORDER_FAILED,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: CREATE_ORDER_FAILED,\r\n        });\r\n      });\r\n  };\r\n};\r\n","import s from './preloader.module.css';\r\n\r\nconst Preloader = () => {\r\n\treturn <div className={s.loader}></div>\r\n}\r\n\r\nexport default Preloader;\r\n","import styles from \"./burger-block.module.css\";\r\nimport BurgerIngredients from \"../burger-ingredients/burger-ingredients\";\r\nimport BurgerConstructor from \"../burger-constructor/burger-constructor\";\r\nimport { useSelector } from \"../../hooks\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport Preloader from \"../preloader/preloader\";\r\n\r\nconst BurgerBlock = () => {\r\n  const { data, isLoading, hasError } = useSelector((store) => store.card);\r\n\r\n  return (\r\n    <section className={styles.main}>\r\n      {isLoading && <Preloader /> }\r\n      {hasError && \"Произошла ошибка\"}\r\n      {!isLoading && !hasError && data.length && (\r\n        <DndProvider backend={HTML5Backend}>\r\n          <BurgerIngredients />\r\n          <BurgerConstructor />\r\n        </DndProvider>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default BurgerBlock;\r\n","export const NotFound404 =() => {\r\n  return (\r\n    <>\r\n      <h1>Oops! 404 Error</h1>\r\n      <p>The page you requested does not exist</p>\r\n    </>\r\n  );\r\n}\r\n","import url from \"./config\";\r\nimport { setCookie, getCookie, deleteCookie } from \"./cookie\";\r\n\r\ntype TPropsResetPassword = {token: string; password: string }\r\n\r\nexport const resetPassword = ({ token, password }: TPropsResetPassword) => {\r\n  fetch(`${url}/password-reset/reset`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ token, password }),\r\n  })\r\n    .then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`ошибка: ` + res.status);\r\n      } else {\r\n        return res.json();\r\n      }\r\n    })\r\n    .then((res) => requestHandler(res));\r\n};\r\n\r\ntype TPropsRegister = {name: string; password: string; email: string }\r\n\r\nexport const register = ({ name, password, email }: TPropsRegister) => {\r\n  fetch(`${url}/auth/register`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ name, password, email }),\r\n  })\r\n    .then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`ошибка: ` + res.status);\r\n      } else {\r\n        return res.json();\r\n      }\r\n    })\r\n    .then((res) => requestHandler(res));\r\n};\r\n\r\ntype TPropsLogin = Omit<TPropsRegister, 'email'> \r\n\r\nexport const login = ({ name, password }: TPropsLogin) => {\r\n  fetch(`${url}/auth`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ name, password }),\r\n  })\r\n    .then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`ошибка: ` + res.status);\r\n      } else {\r\n        return res.json();\r\n      }\r\n    })\r\n    .then((res) => requestHandler(res));\r\n};\r\n\r\nexport const forgot = (email: string) => {\r\n  fetch(`${url}/password-reset`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ email }),\r\n  })\r\n    .then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`ошибка: ` + res.status);\r\n      } else {\r\n        return res.json();\r\n      }\r\n    })\r\n    .then((res) => requestHandler(res));\r\n};\r\n\r\nexport const signUp = ({ email, password, name }: TPropsRegister) => {\r\n  return fetch(`${url}/auth/register`, {\r\n    method: \"POST\",\r\n    mode: \"cors\",\r\n    cache: \"no-cache\",\r\n    credentials: \"same-origin\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ email, password, name }),\r\n    redirect: \"follow\",\r\n    referrerPolicy: \"no-referrer\",\r\n  })\r\n    \r\n  .then((res) => requestHandler(res))\r\n};\r\n\r\nexport const signIn = ({ name, password }: TPropsLogin) => {\r\n  return fetch(`${url}/auth/login`, {\r\n    method: \"POST\",\r\n    mode: \"cors\",\r\n    cache: \"no-cache\",\r\n    credentials: \"same-origin\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ email: name, password }),\r\n  })\r\n  .then((res) => requestHandler(res));\r\n};\r\n\r\nexport const forgotPasswordR = (value: string) => {\r\n  return fetch(`${url}/password-reset`, {\r\n    method: \"POST\",\r\n    mode: \"cors\",\r\n    cache: \"no-cache\",\r\n    credentials: \"same-origin\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ email: value }),\r\n    redirect: \"follow\",\r\n    referrerPolicy: \"no-referrer\",\r\n  }).then((res) => requestHandler(res));\r\n};\r\n\r\n\r\nconst requestHandler = (res: Response) => {\r\n  return res.ok ? res.json() : Promise.reject(res)\r\n};\r\n\r\nexport const refreshTokenR = () => {\r\n  return fetch(`${url}/auth/token`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ token: localStorage.getItem(\"refreshToken\") }),\r\n  }).then(requestHandler);\r\n};\r\n\r\ntype TFetchWithRefresh = { success: boolean; message: string }\r\n\r\nexport const fetchWithRefresh = async (url: string, options: RequestInit) => {\r\n  try {    \r\n    const res = await fetch(url, options)\r\n    return await requestHandler(res)\r\n  } catch(err) {\r\n    return err.json()\r\n    .then((err: TFetchWithRefresh) => {\r\n      console.log(err)\r\n      if (err?.message === 'jwt expired') {\r\n        return refreshTokenR()\r\n          .then(res => {\r\n            localStorage.setItem('refreshToken', res.refreshToken)\r\n            const authToken = res.accessToken.split('Bearer ')[1];\r\n            setCookie('token', authToken);\r\n            (options.headers as { [key: string]: string }).Authorization = res.accessToken\r\n            return fetch(url, options).then((res) => requestHandler(res))\r\n          })\r\n      } else {\r\n        deleteCookie('token');\r\n        localStorage.removeItem('refreshToken');\r\n        // eslint-disable-next-line\r\n        location.reload()\r\n        return Promise.reject(err)\r\n      }\r\n    })\r\n}\r\n}\r\n\r\n\r\nexport const getUser = () => {\r\n  return fetchWithRefresh(`${url}/auth/user`, {    \r\n    mode: \"cors\",\r\n    cache: \"no-cache\",\r\n    credentials: \"same-origin\",\r\n    headers: { \r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: 'Bearer ' + getCookie('token') },    \r\n    redirect: \"follow\",\r\n    referrerPolicy: \"no-referrer\",\r\n  })\r\n}\r\n\r\nexport const updateUserCookie = (data: TPropsRegister ) => {\r\n  console.log(getCookie('token'));\r\n\treturn fetch(`${url}/auth/user`, {\r\n\t\tmethod: 'PATCH',\r\n\t\tmode: 'cors',\r\n\t\tcache: 'no-cache',\r\n\t\tcredentials: 'same-origin',\r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAuthorization: 'Bearer ' + getCookie('token')\r\n\t\t},\r\n\t\tbody: JSON.stringify(data),\r\n\t\tredirect: 'follow',\r\n\t\treferrerPolicy: 'no-referrer',\r\n\t})\r\n\t.then((res) => requestHandler(res))\r\n}\r\n\r\nexport const signOutCookie = () => {\r\n\treturn fetch(`${url}/auth/logout`, {\r\n\t\tmethod: 'POST',\r\n\t\tmode: 'cors',\r\n\t\tcache: 'no-cache',\r\n\t\tcredentials: 'same-origin',\r\n\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\tbody: JSON.stringify(\r\n\t\t\t{ token: localStorage.getItem('refreshToken') }\r\n\t\t),\r\n\t\tredirect: 'follow',\r\n\t\treferrerPolicy: 'no-referrer',\r\n\t})\r\n\t\t.then((res) => requestHandler(res))\r\n}\r\n","import {  setCookie, deleteCookie } from \"../../utils/cookie\";\r\nimport {  getUser, signUp, signIn, forgotPasswordR, updateUserCookie, signOutCookie, refreshTokenR } from \"../../utils/api\";\r\nimport { push } from 'connected-react-router';\r\nimport { REGISTER_REQUEST, REGISTER_SUCCESS, REGISTER_FAILED, LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILED, \r\n\tLOAD_USER_REQUEST, LOAD_USER_SUCCESS, LOAD_USER_FAILED, UPDATE_USER_REQUEST, UPDATE_USER_SUCCESS, UPDATE_USER_FAILED, \r\n\tLOGOUT_REQUEST, LOGOUT_SUCCESS, LOGOUT_FAILED, FORGOT_PASSWORD_REQUEST, FORGOT_PASSWORD_SUCCESS, FORGOT_PASSWORD_FAILED, \r\n\tREFRESH_TOKEN_REQUEST, REFRESH_TOKEN_SUCCESS, REFRESH_TOKEN_FAILED } from \"../constants/auth\";\r\n\r\nimport { AppDispatch, AppThunk, TUser } from '../../types';\r\n\r\n\r\nexport interface IRegisterRequestAction {\r\n  readonly type: typeof REGISTER_REQUEST;\r\n}\r\nexport interface IRegisterSuccessAction {\r\n  readonly type: typeof REGISTER_SUCCESS;\r\n\treadonly user: TUser\r\n}\r\nexport interface IRegisterFailedAction {\r\n  readonly type: typeof REGISTER_FAILED;\r\n}\r\n\r\nexport interface ILoginRequestAction {\r\n  readonly type: typeof LOGIN_REQUEST;\r\n}\r\nexport interface ILoginSuccessAction {\r\n  readonly type: typeof LOGIN_SUCCESS;\r\n\treadonly user: TUser\r\n}\r\nexport interface ILoginFailedAction {\r\n  readonly type: typeof LOGIN_FAILED;\r\n}\r\nexport interface ILoadUserRequestAction {\r\n  readonly type: typeof LOAD_USER_REQUEST;\r\n}\r\nexport interface ILoadUserSuccessAction {\r\n  readonly type: typeof LOAD_USER_SUCCESS;\r\n\treadonly user: TUser\r\n}\r\nexport interface ILoadUserFailedAction {\r\n  readonly type: typeof LOAD_USER_FAILED;\r\n}\r\n\r\nexport interface IUpdateUserRequestAction {\r\n  readonly type: typeof UPDATE_USER_REQUEST;\r\n}\r\nexport interface IUpdateUserSuccessAction {\r\n  readonly type: typeof UPDATE_USER_SUCCESS;\r\n\treadonly user: TUser\r\n}\r\nexport interface IUpdateUserFailedAction {\r\n  readonly type: typeof UPDATE_USER_FAILED;\r\n}\r\nexport interface ILogoutRequestAction {\r\n\treadonly type: typeof LOGOUT_REQUEST;\r\n}\r\nexport interface ILogoutSuccessAction {\r\n\treadonly type: typeof LOGOUT_SUCCESS;\r\n}\r\nexport interface ILogoutFailedAction {\r\n\treadonly type: typeof LOGOUT_FAILED;\r\n}\r\nexport interface IForgotPasswordRequestAction {\r\n  readonly type: typeof FORGOT_PASSWORD_REQUEST;\r\n}\r\nexport interface IForgotPasswordSuccessAction {\r\n  readonly type: typeof FORGOT_PASSWORD_SUCCESS;\r\n}\r\nexport interface IForgotPasswordFailedAction {\r\n  readonly type: typeof FORGOT_PASSWORD_FAILED;\r\n}\r\nexport interface IRefreshTokenRequestAction {\r\n  readonly type: typeof REFRESH_TOKEN_REQUEST;\r\n}\r\nexport interface IRefreshTokenSuccessAction {\r\n  readonly type: typeof REFRESH_TOKEN_SUCCESS;\r\n\t\r\n}\r\nexport interface IRefreshTokenFailedAction {\r\n  readonly type: typeof REFRESH_TOKEN_FAILED;\r\n}\r\n\r\nexport type TAuthActions = \r\n  | IRegisterRequestAction\r\n\t| IRegisterSuccessAction\r\n\t| IRegisterFailedAction\r\n\t| ILoginRequestAction\r\n\t| ILoginSuccessAction\r\n\t| ILoginFailedAction\r\n\t| ILoadUserRequestAction\r\n\t| ILoadUserSuccessAction\r\n\t| ILoadUserFailedAction\r\n\t| IUpdateUserRequestAction\r\n\t| IUpdateUserSuccessAction\r\n\t| IUpdateUserFailedAction\r\n\t| ILogoutRequestAction\r\n\t| ILogoutSuccessAction\r\n\t| ILogoutFailedAction\r\n\t| IForgotPasswordRequestAction\r\n\t| IForgotPasswordSuccessAction\r\n\t| IForgotPasswordFailedAction\r\n\t| IRefreshTokenRequestAction\r\n\t| IRefreshTokenSuccessAction\r\n\t| IRefreshTokenFailedAction\r\n\r\n\r\nexport const register: AppThunk = (newUser) => {\r\n  return function (dispatch: AppDispatch) {\r\n    dispatch({\r\n      type: REGISTER_REQUEST,\r\n    });\r\n    signUp(newUser)\r\n      .then((res) => {\r\n        console.log(res.user);\r\n\t\t\t\t\r\n        if (res && res.success) {\r\n          const accessToken = res.accessToken.split(\"Bearer \")[1];\r\n          const refreshToken = res.refreshToken;\r\n          setCookie(\"token\", accessToken);\r\n          localStorage.setItem(\"refreshToken\", refreshToken);\r\n          dispatch({\r\n            type: REGISTER_SUCCESS,\r\n            user: res.user,\r\n          });\r\n\t\t\t\t\tdispatch(push('/'));\r\n        } else\r\n          dispatch({\r\n            type: REGISTER_FAILED,\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: REGISTER_FAILED,\r\n          error: err.message,\r\n        });\r\n      });\r\n  };\r\n}\r\n\r\nexport const login: AppThunk = (state) => {\r\n\treturn function (dispatch: AppDispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_REQUEST\r\n\t\t})\r\n\t\tsignIn(state)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res && res.success) {\r\n\t\t\t\t\tconst accessToken = res.accessToken.split('Bearer ')[1];\r\n\t\t\t\t\tconst refreshToken = res.refreshToken;\r\n\t\t\t\t\tsetCookie('token', accessToken);\r\n\t\t\t\t\tlocalStorage.setItem('refreshToken', refreshToken);\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\t\t\t\tuser: res.user\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: LOGIN_FAILED\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: LOGIN_FAILED\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t};\r\n}\r\n\r\nexport const forgotPassword: AppThunk = (email) => {\r\n\treturn function (dispatch: AppDispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: FORGOT_PASSWORD_REQUEST\r\n\t\t})\r\n\t\tforgotPasswordR(email)\r\n\t\t.then((res) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: FORGOT_PASSWORD_SUCCESS,\r\n\t\t\t});\r\n\t\t\tdispatch(push('/reset-password'));\r\n\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FORGOT_PASSWORD_FAILED\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t};\r\n}\r\n\r\nexport const loadUser: AppThunk = () => {\r\n\treturn function (dispatch: AppDispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: LOAD_USER_REQUEST\r\n\t\t})\r\n\t\tgetUser().then((res) => {\r\n\t\t\tif (res && res.success) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: LOAD_USER_SUCCESS,\r\n\t\t\t\t\tuser: res.user\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthrow res;\r\n\t\t\t}\r\n\t\t}).catch(err => {\r\n      console.log(err)\r\n      dispatch({\r\n        type: LOAD_USER_FAILED\r\n      })\r\n\t\t})\r\n\t};\r\n}\r\n\r\nexport const updateUser: AppThunk = (data) => {\r\n\treturn function (dispatch: AppDispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_USER_REQUEST\r\n\t\t})\r\n\t\tupdateUserCookie(data).then((res) => {\r\n\t\t\tif (res && res.success) {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_USER_SUCCESS,\r\n\t\t\t\t\tuser: res.user\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthrow res;\r\n\t\t\t}\r\n\t\t}).catch(err => {\r\n      console.log(err)\r\n      dispatch({\r\n        type: UPDATE_USER_FAILED\r\n      })\r\n\t\t})\r\n\t};\r\n}\r\n\r\nexport const logOut: AppThunk = () => {\r\n\treturn function (dispatch: AppDispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: LOGOUT_REQUEST\r\n\t\t})\r\n\t\tsignOutCookie()\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res && res.success) {\r\n\t\t\t\t\tdeleteCookie('token');\r\n\t\t\t\t\tlocalStorage.removeItem('refreshToken')\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: LOGOUT_SUCCESS\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: LOGOUT_FAILED\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: LOGOUT_FAILED\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t};\r\n}\r\n\r\nexport const refreshToken: AppThunk = () => {\r\n\treturn function (dispatch: AppDispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: REFRESH_TOKEN_REQUEST,\r\n\t\t});\r\n\t\trefreshTokenR().then((res) => {\r\n\t\t\tif (res && res.success) {\r\n\t\t\t\tlocalStorage.setItem('refreshToken', res.refreshToken);\r\n\t\t\t\tconst authToken = res.accessToken.split('Bearer ')[1];\r\n\t\t\t\tsetCookie('token', authToken);\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: REFRESH_TOKEN_SUCCESS,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: REFRESH_TOKEN_FAILED,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n}\r\n","import { SyntheticEvent, useState } from \"react\";\r\nimport { PasswordInput, Input, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport cn from \"classnames\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { login } from \"../../services/actions/auth\";\r\nimport { useDispatch, useSelector } from '../../hooks';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport s from \"./login.module.css\";\r\n\r\nfunction Login() {\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleInputChange = (event: SyntheticEvent) => {\r\n    const target = event.target as HTMLInputElement;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    setState({\r\n      ...state,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submit = (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    dispatch(login(state));\r\n  };\r\n\r\n  const hasToken = localStorage.getItem('refreshToken')\r\n  const user = useSelector((store) => store.auth.name)\r\n\r\n  if (user || hasToken) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: '/'\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className={cn(s.main, \"mt-30\")}>\r\n      <form onSubmit={submit} className={s.form}>\r\n        <h1 className=\"text text_type_main-large mb-6\">Вход</h1>\r\n        <Input type={\"email\"} placeholder={\"E-mail\"} onChange={handleInputChange} value={state.name} name={\"name\"} error={false} errorText={\"Ошибка\"} size={\"default\"} />\r\n        <PasswordInput onChange={handleInputChange} value={state.password} name={\"password\"} />\r\n        <Button type=\"primary\" size=\"large\" >\r\n          Войти\r\n        </Button>\r\n      </form>\r\n      <p className=\"text text_type_main-default text_color_inactive mt-20\">\r\n        Вы - новый пользователь?\r\n        <Link to=\"/register\" type=\"secondary\" className={cn(s.link, \"ml-2\")}>\r\n          Зарегестрироваться\r\n        </Link>{\" \"}\r\n      </p>\r\n      <p className=\"text text_type_main-default text_color_inactive mt-4\">\r\n        Забыли пароль?\r\n        <Link to=\"/forgot-password\" type=\"secondary\" className={cn(s.link, \"ml-2\")}>\r\n          Восстановить пароль\r\n        </Link>\r\n      </p>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { SyntheticEvent, useState } from \"react\";\r\nimport { Input, Button, PasswordInput } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport cn from \"classnames\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { register } from \"../../services/actions/auth\";\r\nimport { useDispatch } from '../../hooks';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport s from \"./register.module.css\";\r\n\r\nfunction Register() {\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleInputChange = (event: SyntheticEvent) => {\r\n    const target = event.target as HTMLInputElement;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    setState({\r\n      ...state,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submit = (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    dispatch(register(state));\r\n  };\r\n  \r\n  const hasToken = localStorage.getItem('refreshToken')\r\n  \r\n  if (hasToken) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: '/'\r\n        }}\r\n      />\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <section className={cn(s.main, \"mt-30\")}>\r\n      <form onSubmit={submit} className={s.form}>\r\n        <h1 className=\"text text_type_main-large mb-6\">Регистрация</h1>\r\n        <Input type={\"text\"} placeholder={\"Имя\"} onChange={handleInputChange} value={state.name} name={\"name\"} error={false} errorText={\"Ошибка\"} size={\"default\"} />\r\n        <Input type={\"email\"} placeholder={\"E-mail\"} onChange={handleInputChange} value={state.email} name={\"email\"} error={false} errorText={\"Ошибка\"} size={\"default\"} />\r\n        <PasswordInput onChange={handleInputChange} value={state.password} name={\"password\"} />\r\n        <Button type=\"primary\" size=\"large\" >\r\n          Зарегистрироваться\r\n        </Button>\r\n      </form>\r\n      <p className=\"text text_type_main-default text_color_inactive mt-20\">\r\n        Уже зарегистрированы?\r\n        <Link to=\"/login\" type=\"secondary\" className={cn(s.link, \"ml-2\")}>\r\n          Войти\r\n        </Link>\r\n      </p>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import {SyntheticEvent, useState} from 'react';\r\nimport { Input, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport cn from \"classnames\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { forgotPassword } from \"../../services/actions/auth\";\r\nimport { useDispatch } from '../../hooks';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport s from \"./forgot-password.module.css\";\r\n\r\nconst ForgotPassword = () => {\r\n  const [email, setEmail] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const submit = (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    dispatch(forgotPassword(email));\r\n  };\r\n\r\n  const hasToken = localStorage.getItem('refreshToken');\r\n  if (hasToken) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: '/'\r\n        }}\r\n      />\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <section className={cn(s.main, \"mt-30\")}>\r\n      <form onSubmit={submit}  className={s.form}>\r\n        <h1 className=\"text text_type_main-large mb-6\">Восстановление пароля</h1>\r\n        <Input type={\"email\"} placeholder={\"Укажите e-mail\"} value={email} onChange={(event) => setEmail(event.target.value)} />\r\n        <Button type=\"primary\" size=\"large\" >\r\n          Восстановить\r\n        </Button>\r\n      </form>\r\n      <p className=\"text text_type_main-default text_color_inactive mt-20\">\r\n        Вспомнили пароль?\r\n        <Link to=\"/login\" type=\"secondary\" className={cn(s.link, \"ml-2\")}>\r\n          Войти\r\n        </Link>\r\n      </p>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import React, { SyntheticEvent, useState } from \"react\";\r\nimport { Input, Button, PasswordInput } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport cn from \"classnames\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { resetPassword } from \"../../utils/api\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport s from \"./reset-password.module.css\";\r\n\r\nfunction ResetPassword() {\r\n  const [state, setState] = useState({\r\n    password: \"\",\r\n    token: \"\",\r\n  });\r\n\r\n  const handleInputChange = (event: SyntheticEvent<HTMLInputElement>) => {\r\n    const target = event.target as HTMLInputElement;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    setState({\r\n      ...state,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const submit = (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    resetPassword(state);\r\n  };\r\n\r\n  const hasToken = localStorage.getItem(\"refreshToken\");\r\n\r\n  if (hasToken) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: \"/\",\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className={cn(s.main, \"mt-30\")}>\r\n      <form onSubmit={submit} className={s.form}>\r\n        <h1 className=\"text text_type_main-large mb-6\">Восстановление пароля</h1>\r\n        <PasswordInput value={state.password} name={\"password\"} onChange={handleInputChange} />\r\n        <Input type={\"text\"} placeholder={\"Введите код из письма\"} onChange={handleInputChange} value={state.token} name={\"token\"} error={false} errorText={\"Ошибка\"} size={\"default\"} />\r\n        <Button type=\"primary\" size=\"large\" >\r\n          Сохранить\r\n        </Button>\r\n      </form>\r\n\r\n      <p className=\"text text_type_main-default text_color_inactive mt-20\">\r\n        Вспомнили пароль?\r\n        <Link to=\"/login\" type=\"secondary\" className={cn(s.link, \"ml-2\")}>\r\n          Войти\r\n        </Link>\r\n      </p>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ResetPassword;\r\n","import cn from \"classnames\";\r\nimport s from \"./orders.module.css\";\r\nimport { FC } from 'react';\r\nimport { TOrder } from \"../../types\";\r\n\r\ntype TProps = { orders: Array<TOrder>; total: number; totalToday: number}\r\n\r\nconst Orders: FC<TProps> = ({ orders, total, totalToday }) => {\r\n  \r\n  const doneOrders: Array<TOrder> = orders?.filter((el) => el.status === \"done\");\r\n  const pendingOrders: Array<TOrder> = orders?.filter((el) => el.status !== \"done\"); \r\n\r\n  return (\r\n    <section className=\"mt-25\">\r\n      <div className={s.table}>\r\n        <div className={s.ready}>\r\n          <h2 className={cn(s.title, \"text text_type_main-medium mb-6\")}>Готовы:</h2>\r\n          <ul className={s.list}>\r\n            {doneOrders?.map((el) => (\r\n              <li key={el._id} className={cn(s.text, \"text text_type_digits-default mb-2\")}>{el.number}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className={s.progress}>\r\n          <h2 className=\"text text_type_main-medium mb-6\">В работе:</h2>\r\n          <ul className={s.list}>\r\n            {pendingOrders?.map((el) => (\r\n              <li key={el._id} className={cn(s.text, \"text text_type_digits-default mb-2\")}>{el.number}</li>\r\n            ))}\r\n          </ul>         \r\n        </div>\r\n      </div>\r\n      <div className=\"mb-15\">\r\n        <h2 className=\"text text_type_main-medium\">Выполнено за все время:</h2>\r\n        <p className={cn(s.num, \"text text_type_digits-large\")}>{total} </p>\r\n      </div>\r\n      <div className=\"\">\r\n        <h2 className=\"text text_type_main-medium\">Выполнено за сегодня:</h2>\r\n        <p className={cn(s.num, \"text text_type_digits-large\")}>{totalToday}</p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","import s from \"./burger-image.module.css\";\r\nimport { FC } from 'react';\r\n\r\nconst BurgerImage: FC<{image: string}> = ({ image }) => {\r\n  return (\r\n    <section className={s.main}>\r\n      <div className={s.img}>\r\n        <img className={s.icon} src={image} alt=\"фото\" />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default BurgerImage;\r\n","const getDaysOrders = (days: number) => (\r\n  days === 0 ? 'Сегодня'\r\n    : days === 1 ? 'Вчера'\r\n      : days > 1 ? `${days} дня(-ей) назад`\r\n        : 'Что-то пошло не так');\r\n\r\n//сформировать тату создания заказа для карточки\r\nexport const getTimeOrders = (date: string) => {\r\n  const dayCreated: Date = new Date(date);\r\n  const today: Date = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  const diffTime = Math.ceil((Number(today) - Number(dayCreated)) / (60 * 60 * 24 * 1000));\r\n  const hours = dayCreated.getHours() > 9 ? dayCreated.getHours() : `0${dayCreated.getHours()}`\r\n  const min = dayCreated.getMinutes() > 9 ? dayCreated.getMinutes() : `0${dayCreated.getMinutes()}`\r\n\r\n  return `${getDaysOrders(diffTime)}, ${hours}:${min} i-GMT+${dayCreated.getTimezoneOffset() * (-1) / 60}`;\r\n};\r\n\r\nexport const getStat = (status: string) => (status === \"done\") ? { text: \"Выполнен\", colorText: \"green\" } : status === \"pending\" ? { text: \"Отменен\", colorText: \"red\" } : { text: \"Готовится\", colorText: \"white\" };","\r\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport cn from \"classnames\";\r\nimport s from \"./burger.module.css\";\r\nimport BurgerImage from \"../burger-image/burger-image\";\r\nimport { getTimeOrders } from \"../../utils/helpers\";\r\nimport { getStat } from \"../../utils/helpers\";\r\nimport {TProduct, TOrder} from '../../types';\r\nimport { FC } from \"react\";\r\n\r\ntype TProps = {el: TOrder; data: Array<TProduct>}\r\n\r\nconst Burger: FC<TProps>=({ el, data }) => {\r\n  const status = el.status;  \r\n  const stat = getStat(status)\r\n  \r\n  const itemOrders = el?.ingredients\r\n    .map((el) => {\r\n      return data?.filter((item) => item._id === el);\r\n    })\r\n    .flat();\r\n\r\n  let numZInd: any = 6\r\n  const price = itemOrders?.reduce((acc, curr) => (acc += curr.price), 0);\r\n  const dateOrders = getTimeOrders(el?.createdAt);\r\n  const count = itemOrders.length\r\n  const countLeftover = count - numZInd\r\n  \r\n  const burgerItem = itemOrders.slice(0, numZInd)\r\n\r\n  return (\r\n    <section className={s.main}>\r\n      <div className=\"p-6\">\r\n        <div className={s.data}>\r\n          <span className=\"text text_type_digits-default\">#{el?.number}</span>\r\n          <div className=\"text text_type_main-default text_color_inactive\">{dateOrders}</div>\r\n        </div>\r\n        <h2 className=\"text text_type_main-medium mt-6 mb-2\">{el?.name}</h2>\r\n        <h2 className={cn(s[`status_color_${stat.colorText}`], \"text text_type_main-default mb-26\")}>{stat.text}</h2>\r\n        <div className={s.footer}>\r\n          <ul className={s.container}>\r\n            {burgerItem?.map((el, index) => {\r\n              numZInd -=1\r\n              return <li key={index} className={s.item} style={{ zIndex: numZInd }}>\r\n                <BurgerImage image={el?.image_mobile} />\r\n              </li>\r\n            })}\r\n            { count> 6 ? (<div className={s.overlay}><span>{`+${countLeftover}`}</span></div>) : null}          \r\n          </ul>\r\n          <div className={s.price}>\r\n            <div className=\"text text_type_digits-default mr-2\">{price}</div>\r\n            <CurrencyIcon type=\"primary\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Burger;\r\n","import { Link } from \"react-router-dom\";\r\nimport Burger from \"../burger/burger\";\r\nimport cn from \"classnames\";\r\nimport s from \"./burger-ready.module.css\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport { FC } from 'react';\r\nimport { TOrder, TProduct } from \"../../types\";\r\n\r\ntype TProps = { orders: Array<TOrder>; data: Array<TProduct> }\r\n\r\nconst BurgerReady:FC<TProps> = ({ orders, data }) => {\r\n  const location = useLocation();  \r\n      \r\n  return (\r\n    <section className={cn(s.main, \"mt-10\")}>\r\n      <h1 className=\"text text_type_main-large mb-5\">Лента заказов</h1>\r\n      {orders?.map((el) => (\r\n        <Link key={el._id} className={s.link} to={{ pathname: `/feed/${el.number}`, state: { background: location}}}>\r\n          <Burger data={data} el={ el } />\r\n        </Link>\r\n      ))}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default BurgerReady;\r\n","import cn from \"classnames\";\r\nimport Orders from '../../components/orders/orders';\r\nimport BurgerReady from '../../components/burger-ready/burger-ready';\r\nimport { useDispatch, useSelector } from \"../../hooks\";\r\nimport {useEffect} from 'react';\r\nimport s from \"./feed.module.css\";\r\nimport { WS_CONNECTION_START } from \"../../services/constants/socket\";\r\nimport { TOrder, TProduct } from \"../../types\";\r\n\r\nconst Feed = () => {  \r\n  const dispatch = useDispatch();\r\n  const data: Array<TProduct> = useSelector((store) => store.card.data);\r\n      \r\n  useEffect(() => {\r\n    dispatch({\r\n      type: WS_CONNECTION_START\r\n    })\r\n  }, [dispatch]);\r\n\r\n  const orders: Array<TOrder> = useSelector((store) => store.ws.orders);\r\n  const total= useSelector((store) => store.ws.total);\r\n  const totalToday: number | null = useSelector((store) => store.ws.totalToday);\r\n\r\n  return (\r\n    <section className={cn(s.main, 'mt-10')}>\r\n      <BurgerReady data={ data } orders={orders} />\r\n      <Orders orders={orders} total={total} totalToday={totalToday} />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Feed;\r\n","import { Link } from \"react-router-dom\";\r\nimport Burger from \"../burger/burger\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { WS_CONNECTION_START_AUTH } from \"../../services/constants/socketAuth\";\r\nimport { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"../../hooks\";\r\n\r\nimport s from \"./profile-orders.module.css\";\r\nimport { TOrder } from \"../../types\";\r\n\r\nconst ProfileOrders = () => {\r\n  const dispatch = useDispatch();\r\n  const { data } = useSelector((store) => store.card);\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: WS_CONNECTION_START_AUTH,\r\n    });\r\n  }, [dispatch]);\r\n  \r\n  const orders: Array<TOrder> = useSelector((store) =>  store.wsAuth.orders );\r\n  \r\n  const location = useLocation();\r\n  return (\r\n    <div className={s.burgers}>\r\n      {orders?.map((el, index) => (\r\n         <Link to={{ pathname: `/profile/orders/${el.number}`, state: { background: location } }} key={index} className={s.burgerlink}>\r\n           <Burger el={el} data={data} />\r\n         </Link> \r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileOrders;\r\n","import { Input, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport cn from \"classnames\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport React, { useEffect, SyntheticEvent, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"../../hooks\";\r\nimport { loadUser } from \"../../services/actions/auth\";\r\nimport { updateUser } from '../../services/actions/auth';\r\nimport { logOut } from '../../services/actions/auth';\r\n\r\n\r\nimport s from \"./profile.module.css\";\r\nimport ProfileOrders from \"../../components/profile-orders/profile-orders\";\r\n\r\nconst Profile = () => {\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    nameDisabled: true,\r\n    emailDisabled: true,\r\n    passwordDisabled: true,\r\n  });  \r\n\r\n  const dispatch = useDispatch();\r\n  const currentUserName = useSelector((store) => store.auth.name);\r\n\tconst currentUserEmail = useSelector((store) => store.auth.email);\r\n\r\n  useEffect(() => {\r\n    dispatch(loadUser());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n\t\tsetState(state => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tname: currentUserName,\r\n\t\t\t\temail: currentUserEmail\r\n\t\t\t}\r\n\t\t});\r\n\t}, [currentUserName, currentUserEmail])\r\n\r\n  const handleInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\r\n    const target = event.target as HTMLInputElement;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    setState({\r\n      ...state,\r\n      [name]: value,\r\n    });\r\n  };  \r\n\r\n  const nameInputRef = React.useRef<HTMLInputElement>(null);\r\n  const emailInputRef = React.useRef<HTMLInputElement>(null);\r\n  const passwordInputRef = React.useRef<HTMLInputElement>(null);\r\n\r\n  const activeNameInput = () => {\r\n    setState({\r\n      ...state,\r\n      nameDisabled: state.nameDisabled ? false : true,\r\n    });\r\n    if (nameInputRef && nameInputRef.current) {\r\n      nameInputRef.current.disabled = false;\r\n    }\r\n    setTimeout(() => nameInputRef && nameInputRef.current && nameInputRef.current.focus(), 0);\r\n  };\r\n\r\n  const activeEmailInput = () => {\r\n    setState({\r\n      ...state,\r\n      emailDisabled: state.emailDisabled ? false : true,\r\n    });\r\n    if (emailInputRef && emailInputRef.current) {\r\n      emailInputRef.current.disabled = false;\r\n    }\r\n    setTimeout(() => emailInputRef && emailInputRef.current && emailInputRef.current.focus(), 0);\r\n  };\r\n\r\n  const activePasswordInput = () => {\r\n    setState({\r\n      ...state,\r\n      passwordDisabled: state.passwordDisabled ? false : true,\r\n    });\r\n    if (passwordInputRef && passwordInputRef.current) {\r\n      passwordInputRef.current.disabled = false;\r\n    }\r\n    setTimeout(() => passwordInputRef && passwordInputRef.current && passwordInputRef.current.focus(), 0);\r\n  };\r\n\r\n  const nameIcon = state.nameDisabled ? \"EditIcon\" : \"CloseIcon\";\r\n  const emailIcon = state.emailDisabled ? \"EditIcon\" : \"CloseIcon\";\r\n  const passwordIcon = state.passwordDisabled ? \"EditIcon\" : \"CloseIcon\";\r\n\r\n  const submit = (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    let data = {};\r\n\t\tdata = state.name !== currentUserName ? { ...data, name: state.name } : data;\r\n\t\tdata = state.email !== currentUserEmail ? { ...data, email: state.email } : data;\r\n\t\tdata = state.password.length !== 0 ? { ...data, password: state.password } : data;\r\n\t\tconsole.log({ ...data });\r\n    dispatch(updateUser({...data}))\r\n    setState({\r\n      ...state,\r\n      password: '',\r\n      nameDisabled: true,\r\n      emailDisabled: true,\r\n      passwordDisabled: true,\r\n    });\r\n  }\r\n\r\n  const clickHandler = () => {\r\n\t\tdispatch(logOut())\r\n\t}\r\n \r\n  return (\r\n    <section className={cn(s.main, \"mt-30\")}>\r\n      <div className={s.menu}>\r\n        <NavLink to=\"/profile\" exact activeClassName={s.active} className={cn(s.link, \"text text_type_main-large mb-6\")}>\r\n          Профиль\r\n        </NavLink>\r\n        <NavLink to=\"/profile/orders\" exact activeClassName={s.active} className={cn(s.link, \"text text_type_main-large mb-6\")}>\r\n          История заказов\r\n        </NavLink>\r\n        <NavLink to=\"/\" exact activeClassName={s.active} onClick={clickHandler} className={cn(s.link, \"text text_type_main-large mb-6\")}>\r\n          Выход\r\n        </NavLink>\r\n\r\n        <p className=\"text text_type_main-default text_color_inactive mt-20\">В этом разделе вы моежете изменить свои персональные данные</p>\r\n      </div>\r\n      <div className={cn(s.inputs, \"ml-15\")}>\r\n        <Switch>\r\n          <Route path=\"/profile\" exact>\r\n            <form className={s.inputs} onSubmit={submit}>\r\n              <Input type={\"text\"} placeholder=\"Имя\" size={\"default\"} onChange={handleInputChange} value={state.name}  name=\"name\" errorText={\"Ошибка\"} disabled={state.nameDisabled} onIconClick={activeNameInput} icon={nameIcon} ref={nameInputRef} />\r\n              <Input type={\"email\"} placeholder=\"Почта\" size={\"default\"} onChange={handleInputChange} value={state.email} name=\"email\" errorText={\"Неправильный email\"} icon={emailIcon} disabled={state.emailDisabled} ref={emailInputRef} onIconClick={activeEmailInput} />\r\n              <Input name=\"password\" type=\"password\" placeholder=\"Пароль\" size={\"default\"} onChange={handleInputChange} value={state.password} errorText={\"Ошибка в пароле\"} icon={passwordIcon} ref={passwordInputRef} onIconClick={activePasswordInput} disabled={state.passwordDisabled} />\r\n              { state.name !== currentUserName || state.email !== currentUserEmail || state.password.length !== 0 ? <div className={s.button}>\r\n                <Button type=\"secondary\" size=\"large\" >\r\n                  Отмена\r\n                </Button>\r\n                <Button type=\"primary\" size=\"large\" >\r\n                  Сохранить\r\n                </Button>\r\n              </div> : null}\r\n            </form>\r\n          </Route>\r\n          <Route path=\"/profile/orders\" exact>\r\n            <ProfileOrders />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport s from \"./item-structure.module.css\";\r\nimport cn from \"classnames\";\r\nimport BurgerImage from \"../burger-image/burger-image\";\r\nimport { FC } from 'react';\r\nimport { TProduct } from \"../../types\";\r\n\r\ntype TProps = { el: TProduct; count: number }\r\n\r\nconst ItemStructure:FC<TProps> =({ el, count }) => {\r\n    \r\n  return (\r\n    <section className={s.main}>\r\n      <div className={s.name}>\r\n        <BurgerImage image={el.image_mobile} />\r\n        <p className={cn(s.name, \"ml-9 text text_type_main-default\")}>{el.name}</p>\r\n      </div>\r\n      <div className={s.total}>\r\n        <span className=\"mr-2 text text_type_digits-default\">{count} X</span>\r\n        <span className=\"mr-2 text text_type_digits-default\">{el.price}</span>\r\n        <CurrencyIcon type=\"primary\" />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ItemStructure;\r\n","import { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport s from \"./item-detail.module.css\";\r\nimport cn from \"classnames\";\r\nimport ItemStructure from \"../item-structure/item-structure\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"../../hooks\";\r\nimport { WS_CONNECTION_START } from \"../../services/constants/socket\";\r\nimport { WS_CONNECTION_START_AUTH } from \"../../services/constants/socketAuth\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport { getStat } from \"../../utils/helpers\";\r\nimport { TOrder, TProduct } from \"../../types\";\r\nimport { getTimeOrders } from \"../../utils/helpers\";\r\n\r\nfunction ItemDetails() {\r\n  const dispatch = useDispatch();\r\n  const isProfile = !!useRouteMatch(\"/profile\");\r\n  const { id } = useParams<{id: string}>();\r\n  const { data } = useSelector((store) => store.card);\r\n\r\n  useEffect(() => {\r\n    isProfile\r\n      ? dispatch({\r\n          type: WS_CONNECTION_START_AUTH,\r\n        })\r\n      : dispatch({\r\n          type: WS_CONNECTION_START,\r\n        });\r\n  }, [dispatch, isProfile]);\r\n\r\n  const orders = useSelector((store) => (isProfile ? store.wsAuth.orders : store.ws.orders));\r\n    \r\n  const getItem = (arr: Array<TOrder>, id: string) => {\r\n    return arr?.filter((el) => {\r\n      return el.number === Number(id);\r\n    })[0];\r\n  };\r\n  // let order = {};\r\n  const order: TOrder | null = getItem(orders, id) || null;\r\n\r\n  const countItems = order?.ingredients.reduce((acc: {[name: string]: number}, curr) => {\r\n    acc[curr] = (acc[curr] || 0) + 1;\r\n    return acc;\r\n  }, {});\r\n  const items = countItems ? Object.keys(countItems) : [];\r\n\r\n  const itemOrders = items\r\n    .map((el) => {\r\n      return data.filter((item: TProduct) => item._id === el);\r\n    })\r\n    .flat();\r\n \r\n  const status = order?.status;\r\n  const stat = getStat(status);\r\n\r\n  const dateOrders = getTimeOrders(order?.createdAt);\r\n  \r\n  const sum = itemOrders.reduce((acc, curr) => (acc += curr.price * countItems[curr._id]), 0);\r\n\r\n  return (\r\n    <section className={s.main}>\r\n      <div>\r\n        <span className={cn(s.span, \"text text_type_digits-default\")}>#{id}</span>\r\n        <h1 className={cn(s.title, \"text text_type_main-medium mt-10\")}>{order?.name}</h1>\r\n        <p className={cn(s.status, \"mt-3 mb-15\")}>{stat.text}</p>\r\n        <h3 className={cn(s.structure, \"text text_type_main-medium mb-6\")}>Состав:</h3>\r\n        <ul className={cn(s.ingrid)}>\r\n          {itemOrders.map((el, index) => (\r\n            <li key={index} className={cn(s.item, \"mr-5\")}>\r\n              <ItemStructure count={countItems[el._id]} el={el} />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div className={s.total}>\r\n          <p className=\"text text_type_main-default text_color_inactive\">{dateOrders}</p>\r\n          <div className={s.sum}>\r\n            <p className=\"mr-2 text text_type_digits-default\">{sum}</p>\r\n            <CurrencyIcon type=\"primary\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ItemDetails;\r\n","export const getRefreshToken = () => {\r\n  return localStorage.getItem('refreshToken');\r\n};\r\n","import { useSelector, useDispatch } from \"../hooks\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { useEffect, FC } from \"react\";\r\nimport { getRefreshToken } from \"../utils/token\";\r\nimport { refreshToken } from '../services/actions/auth'\r\nimport Preloader from \"./preloader/preloader\";\r\n\r\ntype TProps = {\tpath: string; exact?: boolean}\r\n\r\nexport const ProtectedRoute: FC<TProps> = ({ children, ...rest }) => {\r\n  const dispatch = useDispatch();\r\n  const hasToken = !!getRefreshToken();\r\n  const isTokenUpdated = useSelector((store) => store.auth.isTokenUpdated);\r\n  const tokenUpdateDate = useSelector((store) => store.auth.tokenUpdateDate);\r\n\r\n  useEffect(() => {\r\n    if (hasToken && !isTokenUpdated) {\r\n      dispatch(refreshToken());\r\n    }\r\n  }, [dispatch, hasToken, isTokenUpdated]);\r\n\r\n  if (hasToken && !isTokenUpdated) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        hasToken && tokenUpdateDate ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import {FC} from 'react';\r\nimport s from './modal-overlay.module.css';\r\n\r\ntype TProps = {\tclose: () => void}\r\n\r\nconst ModalOverlay: FC<TProps> = ({ close }) => {\r\n  return (\r\n    <div className={s.overlay} onClick={ close }>          \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ModalOverlay;\r\n","import { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport React, { FC }  from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport ModalOverlay from \"../modal-overlay/modal-overlay\";\r\nimport s from './modal.module.css';\r\nimport cn from 'classnames';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst modalRoot: Element | null = document.getElementById(\"portal\");\r\n\r\nconst Modal:FC = ({ children }) => {\r\n  const history = useHistory(); \r\n\r\n  const closeEsc = (e: KeyboardEvent) => {\r\n\t\tif (e.code === 'Escape') close()\t\t\t\r\n\t}\r\n\r\n  React.useEffect(() => {\r\n\t\twindow.addEventListener('keydown', closeEsc)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', closeEsc)\r\n\t\t}\r\n\t})\r\n  \r\n  const close = () => {\r\n    history.goBack();\r\n  }\r\n  \r\n  return modalRoot && ReactDOM.createPortal(\r\n    <>\r\n      <div className={cn(s.modal, 'pr-15', 'pl-15', 'pt-20', 'pb-15')}>\r\n        <div className={s.close} onClick={close}>\r\n          <CloseIcon type='primary' />\r\n        </div>\r\n        <div>{ children }</div>\r\n      </div>\r\n      <ModalOverlay close={close} />\r\n    </>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import s from \"./ingredient-details.module.css\";\r\nimport cn from \"classnames\";\r\nimport {  useSelector } from \"../../hooks\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { TProduct } from \"../../types\";\r\nimport Preloader from \"../preloader/preloader\";\r\n\r\nconst IngredientsDetails =() => {\r\n  const { id } = useParams<{id: string}>();\r\n  const { isLoading, hasError } = useSelector((store) => store.card);\r\n  const data: Array<TProduct>  = useSelector((store) => store.card.data);\r\n\r\n  const item = data.find((el) => el._id === id);\r\n\r\n  return (\r\n    <div className={s.ingredient}>\r\n      <h1 className={cn(s.title, \"text\", \"text_type_main-large\", \"mb-5\")}>Детали ингредиента</h1>\r\n      {isLoading && <Preloader /> }\r\n      {hasError && \"произошла ошибка\"}\r\n      {item && (\r\n        <div className={s.container}>\r\n          <img className={s.container__image} src={item.image} alt=\"ингредиент\" />\r\n          <h2 className={cn(s.container__subtitle, \"text\", \"text_type_main-medium\")}>{item.name}</h2>\r\n          <p className={cn(s.container__subtitle, \"mb-8\", \"mt-8\", \"text\", \"text_type_main-default\")}>Превосходные котлеты из марсианской Магнолии для фирменных космических бургеров, набирающих популярность по всей вселенной.</p>\r\n          <ul className={cn(s.box, \"mt-8\")}>\r\n            <li className={cn(s.box__item, \"text\", \"text_type_main-default\", \"text_color_inactive\")}>\r\n              <p className={s.box__text}>Калории, ккал</p>\r\n              <p className={cn(s.box__sum, \"text_type_digits-default\")}>{item.calories}</p>\r\n            </li>\r\n            <li className={cn(s.box__item, \"text\", \"text_type_main-default\", \"text_color_inactive\")}>\r\n              <p className={s.box__text}>Белки, г</p>\r\n              <p className={cn(s.box__sum, \"text_type_digits-default\")}>{item.proteins}</p>\r\n            </li>\r\n            <li className={cn(s.box__item, \"text\", \"text_type_main-default\", \"text_color_inactive\")}>\r\n              <p className={s.box__text}>Жиры, г</p>\r\n              <p className={cn(s.box__sum, \"text_type_digits-default\")}>{item.fat}</p>\r\n            </li>\r\n            <li className={cn(s.box__item, \"text\", \"text_type_main-default\", \"text_color_inactive\")}>\r\n              <p className={s.box__text}>Углеводы, г</p>\r\n              <p className={cn(s.box__sum, \"text_type_digits-default\")}>{item.carbohydrates}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default IngredientsDetails;\r\n","export default __webpack_public_path__ + \"static/media/graphics.fb9f8534.svg\";","import s from \"./order-details.module.css\";\r\nimport cn from \"classnames\";\r\nimport doneOrder from \"../../images/graphics.svg\";\r\n\r\nimport { useSelector } from \"../../hooks\";\r\nimport Preloader from \"../preloader/preloader\";\r\n\r\nconst OrderDetails = () => {\r\n  const { currentOrder, orderIsLoading, orderHasError } = useSelector((store) => store.card);\r\n   \r\n  return (\r\n    <div className={s.order}>\r\n      {orderIsLoading && <Preloader /> }\r\n      {orderHasError && \"Произошла ошибка\"}\r\n      {!orderIsLoading && !orderHasError && (\r\n        <>\r\n          <h1 className={cn(s.order__title, \"text\", \"text_type_digits-large\", \"pt-6\")}>{0 || currentOrder?.number}</h1>\r\n          <p className={cn(s.order__subtitle, \"text\", \"text_type_main-medium\", \"pb-15\")}>идентификатор заказа</p>\r\n          <img className={cn(s.order__image, \"pb-15\")} src={doneOrder} alt=\"ll\" />\r\n          <p className={cn(s.order__subtitle, \"text\", \"text_type_main-default\")}>Ваш заказ начали готовить</p>\r\n          <p className={cn(s.order__subtitle, \"text\", \"text_type_main-default\", \"text_color_inactive\")}>Дождитесь готовности на орбитальной станции</p>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrderDetails;\r\n","import React from \"react\";\r\nimport {  Switch, Route, Redirect, useHistory, useLocation } from \"react-router-dom\";\r\nimport AppHeader from \"../app-header/app-header\";\r\nimport BurgerBlock from \"../burger-block/burger-block\";\r\nimport s from \"./App.module.css\";\r\nimport { NotFound404 } from \"../../pages/not-found-404/not-found-404\";\r\nimport Login from \"../../pages/login/login\";\r\nimport Register from \"../../pages/register/register\";\r\nimport ForgotPassword from \"../../pages/forgot-password/forgot-password\";\r\nimport ResetPassword from \"../../pages/reset-password/reset-password\";\r\nimport Feed from \"../../pages/feed/feed\";\r\nimport Profile from \"../../pages/profile/profile\";\r\n// import Ingredients from \"../../pages/ingredients/ingredients\";\r\nimport ItemDetails from \"../item-detail/item-detail\";\r\nimport { getRefreshToken } from \"../../utils/token\";\r\nimport { ProtectedRoute } from \"../protected-route\";\r\nimport Modal from \"../modal/modal\";\r\nimport IngredientsDetails from \"../ingredient-details/ingredient-details\";\r\nimport OrderDetails from \"../order-details/order-details\";\r\nimport { useDispatch, useSelector } from \"../../hooks\";\r\nimport { getIngredients } from \"../../services/actions/card\";\r\nimport { TLocationTemplate } from \"../../types\";\r\n\r\n// import ProfileOrders from \"../profile-orders/profile-orders\";\r\n\r\nfunction App() {\r\n  const location = useLocation<TLocationTemplate>();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const background = (history.action === \"PUSH\" || history.action === \"REPLACE\") && location.state && location.state.background;\r\n\r\n  const hasToken = !!getRefreshToken();\r\n  const isforgotPasswordSaccess = useSelector((store) => store.auth.isforgotPasswordSaccess);\r\n\r\n  const { dataReceived } = useSelector((store) => store.card);\r\n  React.useEffect(() => {\r\n    if (!dataReceived) {\r\n      dispatch(getIngredients());\r\n    }\r\n  }, [dispatch, dataReceived]);\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <AppHeader />\r\n      <Switch location={background || location}>\r\n        <Route path=\"/\" exact={true}>\r\n          <BurgerBlock />\r\n        </Route>\r\n        <Route path=\"/login\" exact={true}>\r\n          {hasToken && <Redirect to=\"/\" />}\r\n          <Login />\r\n        </Route>\r\n        <Route path=\"/register\" exact={true}>\r\n          {hasToken && <Redirect to=\"/\" />}\r\n          <Register />\r\n        </Route>\r\n        <Route path=\"/forgot-password\" exact={true}>\r\n          {!hasToken && <Redirect to=\"/\" />}\r\n          <ForgotPassword />\r\n        </Route>\r\n        <Route path=\"/reset-password\" exact={true}>\r\n          {!hasToken && !isforgotPasswordSaccess && <Redirect to=\"/\" />}\r\n          <ResetPassword />\r\n        </Route>\r\n        <Route path=\"/feed\" exact={true}>\r\n          <Feed />\r\n        </Route>\r\n        <Route path=\"/feed/:id\" exact={true}>\r\n          <ItemDetails />\r\n        </Route>\r\n        <ProtectedRoute path=\"/profile/orders/:id\" exact={true}>\r\n          <ItemDetails />\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path=\"/profile\">\r\n          <Profile />\r\n        </ProtectedRoute>\r\n        <Route path=\"/ingredients/:id\" exact={true}>\r\n          <IngredientsDetails />\r\n        </Route>\r\n        <Route>\r\n          <NotFound404 />\r\n        </Route>\r\n      </Switch>\r\n      {background && (\r\n        <>\r\n          <ProtectedRoute\r\n            exact={true}\r\n            path=\"/\"\r\n            children={\r\n              <Modal>\r\n                <OrderDetails />\r\n              </Modal>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/ingredients/:id\"\r\n            children={\r\n              <Modal>\r\n                <IngredientsDetails />\r\n              </Modal>\r\n            }\r\n          />\r\n          <ProtectedRoute\r\n            path=\"/profile/orders/:id\"\r\n            children={\r\n              <Modal>\r\n                <ItemDetails />\r\n              </Modal>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/feed/:id\"\r\n            children={\r\n              <Modal>\r\n                <ItemDetails />\r\n              </Modal>\r\n            }\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { Provider } from \"react-redux\";\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\nimport { history } from './services/reducers';\r\nimport { store } from './store';\r\nimport App from \"./components/app/app\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <ConnectedRouter history={history}>\r\n        <App />\r\n      </ConnectedRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"profile_main__1sGd2\",\"inputs\":\"profile_inputs__hbbDw\",\"menu\":\"profile_menu__24zgt\",\"link\":\"profile_link__3xYpx\",\"active\":\"profile_active__2IWt7\",\"burgers\":\"profile_burgers__3q9iv\",\"button\":\"profile_button__37pj3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"orders_table__3Cvfv\",\"num\":\"orders_num__207Su\",\"text\":\"orders_text__7YYMd\",\"list\":\"orders_list__18yYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__3eeK0\",\"container\":\"app-header_container__2d3LV\",\"block\":\"app-header_block__3qA_R\",\"link\":\"app-header_link__QB-ZG\",\"active\":\"app-header_active__1xPq8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"item-detail_main__aUkCx\",\"link\":\"item-detail_link__74zFp\",\"form\":\"item-detail_form__2dr3N\",\"total\":\"item-detail_total__1jDeM\",\"sum\":\"item-detail_sum__2rgkX\",\"status\":\"item-detail_status__2ceza\",\"span\":\"item-detail_span__3q8eE\",\"ingrid\":\"item-detail_ingrid__3N6ln\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"data\":\"burger_data__2QvOl\",\"footer\":\"burger_footer__32KUu\",\"main\":\"burger_main__39hFE\",\"price\":\"burger_price__PcvJ_\",\"image\":\"burger_image__1W73Y\",\"container\":\"burger_container__jruag\",\"link\":\"burger_link__2Iywf\",\"status_color_red\":\"burger_status_color_red__3bTQk\",\"status_color_green\":\"burger_status_color_green__2GlRZ\",\"status_color_white\":\"burger_status_color_white__QVp5W\",\"overlay\":\"burger_overlay__odWhp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"burger-constructor_item__3W_JC\",\"burger-container_active\":\"burger-constructor_burger-container_active__39Etn\",\"burger-container_candrop\":\"burger-constructor_burger-container_candrop__1-Jic\",\"container\":\"burger-constructor_container__2p0YN\",\"list\":\"burger-constructor_list__2W2F0\",\"element\":\"burger-constructor_element__2MG3g\",\"total\":\"burger-constructor_total__SZlLo\",\"price\":\"burger-constructor_price__3KB9e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"order-details_order__3dUFF\",\"order__title\":\"order-details_order__title__1AveJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"burger-ingredients_tabs__2vZjv\",\"cards\":\"burger-ingredients_cards__3dmX-\",\"card\":\"burger-ingredients_card__2gYk1\",\"price\":\"burger-ingredients_price__F8CRP\",\"name\":\"burger-ingredients_name__2DbMm\",\"main\":\"burger-ingredients_main__1y7y1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"login_main__2qcoB\",\"link\":\"login_link__3CaOx\",\"form\":\"login_form__1XmAp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"item-structure_main__3cmcT\",\"name\":\"item-structure_name__2O1cd\",\"total\":\"item-structure_total__tPaGA\",\"item\":\"item-structure_item__3S8sc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"card_box__qI_Kh\",\"cards\":\"card_cards__3vwWE\",\"card\":\"card_card__2DKh8\",\"price\":\"card_price__3Uouv\",\"name\":\"card_name__2dRNc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"register_main__1Uwki\",\"link\":\"register_link__3fN4u\",\"form\":\"register_form__3NaAQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"forgot-password_main__rIDNi\",\"link\":\"forgot-password_link__3pp6Z\",\"form\":\"forgot-password_form__2fTs_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"reset-password_main__2Y2-k\",\"link\":\"reset-password_link__38Ebv\",\"form\":\"reset-password_form__2SYFo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"burger-image_img__3GiWS\",\"container\":\"burger-image_container__1mYjP\",\"icon\":\"burger-image_icon__10EM9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"cards_cards__PNwP2\",\"card\":\"cards_card__2SiS_\",\"price\":\"cards_price__3HFGU\",\"name\":\"cards_name__3yUmT\",\"link\":\"cards_link__3TG8Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"constructor-empty_container__1kSTF\",\"title\":\"constructor-empty_title__Kdl6Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"burger-ready_link__2Kyd2\",\"main\":\"burger-ready_main__2m90O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burgerlink\":\"profile-orders_burgerlink__6dE2k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1Eg2B\",\"close\":\"modal_close__3IWVq\"};"],"sourceRoot":""}